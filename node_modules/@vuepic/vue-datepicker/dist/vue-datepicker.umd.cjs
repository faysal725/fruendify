(function(e,o){typeof exports=="object"&&typeof module<"u"?module.exports=o(require("vue"),require("date-fns")):typeof define=="function"&&define.amd?define(["vue","date-fns"],o):(e=typeof globalThis<"u"?globalThis:e||self,e.VueDatePicker=o(e.Vue,e.dateFns))})(this,function(e,o){"use strict";function Qe(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),e.createElementVNode("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),e.createElementVNode("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),e.createElementVNode("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}Qe.compatConfig={MODE:3};function tn(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),e.createElementVNode("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}tn.compatConfig={MODE:3};function wt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}wt.compatConfig={MODE:3};function vt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}vt.compatConfig={MODE:3};function Mt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),e.createElementVNode("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}Mt.compatConfig={MODE:3};function Dt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}Dt.compatConfig={MODE:3};function St(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}St.compatConfig={MODE:3};const Ee=(t,n)=>n?new Date(t.toLocaleString("en-US",{timeZone:n})):new Date(t),Ct=(t,n,l)=>{const r=Bt(t,n,l);return r||x()},Nn=(t,n,l)=>{const r=n.dateInTz?Ee(new Date(t),n.dateInTz):x(t);return l?Ce(r,!0):r},Bt=(t,n,l)=>{if(!t)return null;const r=l?Ce(x(t),!0):x(t);return n?n.exactMatch?Nn(t,n,l):Ee(r,n.timezone):r},En=t=>{if(!t)return 0;const n=new Date,l=new Date(n.toLocaleString("en-US",{timeZone:"UTC"})),r=new Date(n.toLocaleString("en-US",{timeZone:t})),a=r.getTimezoneOffset()/60;return(+l-+r)/(1e3*60*60)-a};var Pe=(t=>(t.month="month",t.year="year",t))(Pe||{}),je=(t=>(t.top="top",t.bottom="bottom",t))(je||{}),xe=(t=>(t.header="header",t.calendar="calendar",t.timePicker="timePicker",t))(xe||{}),Me=(t=>(t.month="month",t.year="year",t.calendar="calendar",t.time="time",t.minutes="minutes",t.hours="hours",t.seconds="seconds",t))(Me||{});const _n=["timestamp","date","iso"];var Se=(t=>(t.up="up",t.down="down",t.left="left",t.right="right",t))(Se||{}),pe=(t=>(t.arrowUp="ArrowUp",t.arrowDown="ArrowDown",t.arrowLeft="ArrowLeft",t.arrowRight="ArrowRight",t.enter="Enter",t.space=" ",t.esc="Escape",t.tab="Tab",t.home="Home",t.end="End",t.pageUp="PageUp",t.pageDown="PageDown",t))(pe||{});function nn(t){return n=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${n}T00:00:00+00:00`)).slice(0,2)}function Vn(t){return n=>o.format(new Date(`2017-01-0${n}T00:00:00+00:00`),"EEEEEE",{locale:t})}const Yn=(t,n,l)=>{const r=[1,2,3,4,5,6,7];let a;if(t!==null)try{a=r.map(Vn(t))}catch{a=r.map(nn(n))}else a=r.map(nn(n));const m=a.slice(0,l),f=a.slice(l+1,a.length);return[a[l]].concat(...f).concat(...m)},Tt=(t,n,l)=>{const r=[];for(let a=+t[0];a<=+t[1];a++)r.push({value:+a,text:un(a,n)});return l?r.reverse():r},an=(t,n,l)=>{const r=[1,2,3,4,5,6,7,8,9,10,11,12].map(m=>{const f=m<10?`0${m}`:m;return new Date(`2017-${f}-01T00:00:00+00:00`)});if(t!==null)try{const m=l==="long"?"MMMM":"MMM";return r.map((f,s)=>{const $=o.format(Ee(f,"UTC"),m,{locale:t});return{text:$.charAt(0).toUpperCase()+$.substring(1),value:s}})}catch{}const a=new Intl.DateTimeFormat(n,{month:l,timeZone:"UTC"});return r.map((m,f)=>{const s=a.format(m);return{text:s.charAt(0).toUpperCase()+s.substring(1),value:f}})},On=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],we=t=>{const n=e.unref(t);return n!=null&&n.$el?n==null?void 0:n.$el:n},In=t=>({type:"dot",...t??{}}),rn=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,$t={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},be=t=>t,ln=t=>t===0?t:!t||isNaN(+t)?null:+t,on=t=>t===null,sn=t=>{if(t)return[...t.querySelectorAll("input, button, select, textarea, a[href]")][0]},zn=t=>{const n=[],l=r=>r.filter(a=>a);for(let r=0;r<t.length;r+=3){const a=[t[r],t[r+1],t[r+2]];n.push(l(a))}return n},et=(t,n,l)=>{const r=l!=null,a=n!=null;if(!r&&!a)return!1;const m=+l,f=+n;return r&&a?+t>m||+t<f:r?+t>m:a?+t<f:!1},Xe=(t,n)=>zn(t).map(l=>l.map(r=>{const{active:a,disabled:m,isBetween:f,highlighted:s}=n(r);return{...r,active:a,disabled:m,className:{dp__overlay_cell_active:a,dp__overlay_cell:!a,dp__overlay_cell_disabled:m,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:m&&a,dp__cell_in_between:f,"dp--highlighted":s}}})),Oe=(t,n,l=!1)=>{t&&n.allowStopPropagation&&(l&&t.stopImmediatePropagation(),t.stopPropagation())},Ln=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function Hn(t,n){let l=[...document.querySelectorAll(Ln())];l=l.filter(a=>!t.contains(a)||a.hasAttribute("data-datepicker-instance"));const r=l.indexOf(t);if(r>=0&&(n?r-1>=0:r+1<=l.length))return l[r+(n?-1:1)]}const Wn=(t,n)=>t==null?void 0:t.querySelector(`[data-dp-element="${n}"]`),un=(t,n)=>new Intl.NumberFormat(n,{useGrouping:!1,style:"decimal"}).format(t),At=t=>o.format(t,"dd-MM-yyyy"),Pt=t=>Array.isArray(t),ut=(t,n)=>n.get(At(t)),Un=(t,n)=>t?n?n instanceof Map?!!ut(t,n):n(x(t)):!1:!0,Be=(t,n,l=!1)=>{if(t.key===pe.enter||t.key===pe.space)return l&&t.preventDefault(),n()},cn=(t,n,l,r,a,m)=>{const f=o.parse(t,n.slice(0,t.length),new Date,{locale:m});return o.isValid(f)&&o.isDate(f)?r||a?f:o.set(f,{hours:+l.hours,minutes:+(l==null?void 0:l.minutes),seconds:+(l==null?void 0:l.seconds),milliseconds:0}):null},jn=(t,n,l,r,a,m)=>{const f=Array.isArray(l)?l[0]:l;if(typeof n=="string")return cn(t,n,f,r,a,m);if(Array.isArray(n)){let s=null;for(const $ of n)if(s=cn(t,$,f,r,a,m),s)break;return s}return typeof n=="function"?n(t):null},x=t=>t?new Date(t):new Date,xn=(t,n,l)=>{if(n){const a=(t.getMonth()+1).toString().padStart(2,"0"),m=t.getDate().toString().padStart(2,"0"),f=t.getHours().toString().padStart(2,"0"),s=t.getMinutes().toString().padStart(2,"0"),$=l?t.getSeconds().toString().padStart(2,"0"):"00";return`${t.getFullYear()}-${a}-${m}T${f}:${s}:${$}.000Z`}const r=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(r).toISOString()},Ce=(t,n)=>{const l=x(JSON.parse(JSON.stringify(t))),r=o.set(l,{hours:0,minutes:0,seconds:0,milliseconds:0});return n?o.startOfMonth(r):r},Ie=(t,n,l,r)=>{let a=t?x(t):x();return(n||n===0)&&(a=o.setHours(a,+n)),(l||l===0)&&(a=o.setMinutes(a,+l)),(r||r===0)&&(a=o.setSeconds(a,+r)),o.setMilliseconds(a,0)},he=(t,n)=>!t||!n?!1:o.isBefore(Ce(t),Ce(n)),ue=(t,n)=>!t||!n?!1:o.isEqual(Ce(t),Ce(n)),ye=(t,n)=>!t||!n?!1:o.isAfter(Ce(t),Ce(n)),ct=(t,n,l)=>t!=null&&t[0]&&(t!=null&&t[1])?ye(l,t[0])&&he(l,t[1]):t!=null&&t[0]&&n?ye(l,t[0])&&he(l,n)||he(l,t[0])&&ye(l,n):!1,Re=t=>{const n=o.set(new Date(t),{date:1});return Ce(n)},Rt=(t,n,l)=>n&&(l||l===0)?Object.fromEntries(["hours","minutes","seconds"].map(r=>r===n?[r,l]:[r,isNaN(+t[r])?void 0:+t[r]])):{hours:isNaN(+t.hours)?void 0:+t.hours,minutes:isNaN(+t.minutes)?void 0:+t.minutes,seconds:isNaN(+t.seconds)?void 0:+t.seconds},Ke=t=>({hours:o.getHours(t),minutes:o.getMinutes(t),seconds:o.getSeconds(t)}),dn=(t,n)=>{if(n){const l=o.getYear(x(n));if(l>t)return 12;if(l===t)return o.getMonth(x(n))}},fn=(t,n)=>{if(n){const l=o.getYear(x(n));return l<t?-1:l===t?o.getMonth(x(n)):void 0}},Je=t=>{if(t)return o.getYear(x(t))},mn=(t,n)=>{const l=ye(t,n)?n:t,r=ye(n,t)?n:t;return o.eachDayOfInterval({start:l,end:r})},Kn=t=>{const n=o.addMonths(t,1);return{month:o.getMonth(n),year:o.getYear(n)}},Ve=(t,n)=>{const l=o.startOfWeek(t,{weekStartsOn:+n}),r=o.endOfWeek(t,{weekStartsOn:+n});return[l,r]},pn=(t,n)=>{const l={hours:o.getHours(x()),minutes:o.getMinutes(x()),seconds:n?o.getSeconds(x()):0};return Object.assign(l,t)},ze=(t,n,l)=>[o.set(x(t),{date:1}),o.set(x(),{month:n,year:l,date:1})],Ye=(t,n,l)=>{let r=t?x(t):x();return(n||n===0)&&(r=o.setMonth(r,n)),l&&(r=o.setYear(r,l)),r},gn=(t,n,l,r,a)=>{if(!r||a&&!n||!a&&!l)return!1;const m=a?o.addMonths(t,1):o.subMonths(t,1),f=[o.getMonth(m),o.getYear(m)];return a?!Gn(...f,n):!qn(...f,l)},qn=(t,n,l)=>he(...ze(l,t,n))||ue(...ze(l,t,n)),Gn=(t,n,l)=>ye(...ze(l,t,n))||ue(...ze(l,t,n)),hn=(t,n,l,r,a,m,f)=>{if(typeof n=="function"&&!f)return n(t);const s=l?{locale:l}:void 0;return Array.isArray(t)?`${o.format(t[0],m,s)}${a&&!t[1]?"":r}${t[1]?o.format(t[1],m,s):""}`:o.format(t,m,s)},Ze=t=>{if(t)return null;throw new Error($t.prop("partial-range"))},dt=(t,n)=>{if(n)return t();throw new Error($t.prop("range"))},Nt=t=>Array.isArray(t)?o.isValid(t[0])&&(t[1]?o.isValid(t[1]):!0):t?o.isValid(t):!1,Qn=(t,n)=>o.set(n??x(),{hours:+t.hours||0,minutes:+t.minutes||0,seconds:+t.seconds||0}),Et=(t,n,l,r)=>{if(!t)return!0;if(r){const a=l==="max"?o.isBefore(t,n):o.isAfter(t,n),m={seconds:0,milliseconds:0};return a||o.isEqual(o.set(t,m),o.set(n,m))}return l==="max"?t.getTime()<=n.getTime():t.getTime()>=n.getTime()},_t=(t,n,l)=>t?Qn(t,n):x(l??n),yn=(t,n,l,r,a)=>{if(Array.isArray(r)){const f=_t(t,r[0],n),s=_t(t,r[1],n);return Et(r[0],f,l,!!n)&&Et(r[1],s,l,!!n)&&a}const m=_t(t,r,n);return Et(r,m,l,!!n)&&a},Vt=t=>o.set(x(),Ke(t)),Xn=(t,n)=>t instanceof Map?Array.from(t.values()).filter(l=>o.getYear(x(l))===n).map(l=>o.getMonth(l)):[],kn=(t,n,l)=>typeof t=="function"?t({month:n,year:l}):!!t.months.find(r=>r.month===n&&r.year===l),Yt=(t,n)=>typeof t=="function"?t(n):t.years.includes(n),bn=t=>o.format(t,"yyyy-MM-dd"),tt=e.reactive({menuFocused:!1,shiftKeyInMenu:!1}),wn=()=>{const t=r=>{tt.menuFocused=r},n=r=>{tt.shiftKeyInMenu!==r&&(tt.shiftKeyInMenu=r)};return{control:e.computed(()=>({shiftKeyInMenu:tt.shiftKeyInMenu,menuFocused:tt.menuFocused})),setMenuFocused:t,setShiftKey:n}},me=e.reactive({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),Ot=e.ref(null),ft=e.ref(!1),It=e.ref(!1),zt=e.ref(!1),Lt=e.ref(!1),De=e.ref(0),ke=e.ref(0),Le=()=>{const t=e.computed(()=>ft.value?[...me.selectionGrid,me.actionRow].filter(M=>M.length):It.value?[...me.timePicker[0],...me.timePicker[1],Lt.value?[]:[Ot.value],me.actionRow].filter(M=>M.length):zt.value?[...me.monthPicker,me.actionRow]:[me.monthYear,...me.calendar,me.time,me.actionRow].filter(M=>M.length)),n=M=>{De.value=M?De.value+1:De.value-1;let I=null;t.value[ke.value]&&(I=t.value[ke.value][De.value]),!I&&t.value[ke.value+(M?1:-1)]?(ke.value=ke.value+(M?1:-1),De.value=M?0:t.value[ke.value].length-1):I||(De.value=M?De.value-1:De.value+1)},l=M=>{if(ke.value===0&&!M||ke.value===t.value.length&&M)return;ke.value=M?ke.value+1:ke.value-1,t.value[ke.value]?t.value[ke.value]&&!t.value[ke.value][De.value]&&De.value!==0&&(De.value=t.value[ke.value].length-1):ke.value=M?ke.value-1:ke.value+1},r=M=>{let I=null;t.value[ke.value]&&(I=t.value[ke.value][De.value]),I?I.focus({preventScroll:!ft.value}):De.value=M?De.value-1:De.value+1},a=()=>{n(!0),r(!0)},m=()=>{n(!1),r(!1)},f=()=>{l(!1),r(!0)},s=()=>{l(!0),r(!0)},$=(M,I)=>{me[I]=M},V=(M,I)=>{me[I]=M},b=()=>{De.value=0,ke.value=0};return{buildMatrix:$,buildMultiLevelMatrix:V,setTimePickerBackRef:M=>{Ot.value=M},setSelectionGrid:M=>{ft.value=M,b(),M||(me.selectionGrid=[])},setTimePicker:(M,I=!1)=>{It.value=M,Lt.value=I,b(),M||(me.timePicker[0]=[],me.timePicker[1]=[])},setTimePickerElements:(M,I=0)=>{me.timePicker[I]=M},arrowRight:a,arrowLeft:m,arrowUp:f,arrowDown:s,clearArrowNav:()=>{me.monthYear=[],me.calendar=[],me.time=[],me.actionRow=[],me.selectionGrid=[],me.timePicker[0]=[],me.timePicker[1]=[],ft.value=!1,It.value=!1,Lt.value=!1,zt.value=!1,b(),Ot.value=null},setMonthPicker:M=>{zt.value=M,b()},refSets:me}},vn=t=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...t??{}}),Jn=t=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:n=>`Increment ${n}`,decrementValue:n=>`Decrement ${n}`,openTpOverlay:n=>`Open ${n} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:void 0,weekDay:void 0,...t??{}}),Mn=t=>t?typeof t=="boolean"?t?2:0:+t>=2?+t:2:0,Zn=t=>{const n=typeof t=="object"&&t,l={static:!0,solo:!1};if(!t)return{...l,count:Mn(!1)};const r=n?t:{},a=n?r.count??!0:t,m=Mn(a);return Object.assign(l,r,{count:m})},Fn=(t,n,l)=>t||(typeof l=="string"?l:n),ea=t=>typeof t=="boolean"?t?vn({}):!1:vn(t),ta=t=>{const n={enterSubmit:!0,tabSubmit:!0,openMenu:!0,selectOnFocus:!1,rangeSeparator:" - "};return typeof t=="object"?{...n,...t??{},enabled:!0}:{...n,enabled:t}},na=t=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...t??{}}),aa=t=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...t??{}}),ra=t=>{const n={input:!1};return typeof t=="object"?{...n,...t??{},enabled:!0}:{enabled:t,...n}},la=t=>({...{allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,arrowLeft:void 0,keepViewOnOffsetClick:!1,timeArrowHoldThreshold:0},...t??{}}),oa=t=>{const n={dates:Array.isArray(t)?t.map(l=>x(l)):[],years:[],months:[],quarters:[],weeks:[],weekdays:[],options:{highlightDisabled:!1}};return typeof t=="function"?t:{...n,...t??{}}},sa=t=>typeof t=="object"?{type:(t==null?void 0:t.type)??"local",hideOnOffsetDates:(t==null?void 0:t.hideOnOffsetDates)??!1}:{type:t,hideOnOffsetDates:!1},ia=(t,n)=>{const l={noDisabledRange:!1,showLastInRange:!0,minMaxRawRange:!1,partialRange:!0,disableTimeRangeValidation:!1,maxRange:void 0,minRange:void 0,autoRange:void 0,fixedStart:!1,fixedEnd:!1};return typeof t=="object"?{enabled:!0,...l,...t}:{enabled:t,noDisabledRange:n.noDisabledRange,showLastInRange:n.showLastInRange,minMaxRawRange:n.minMaxRawRange,partialRange:n.partialRange,disableTimeRangeValidation:n.disableTimeRangeValidation,maxRange:n.maxRange,minRange:n.minRange,autoRange:n.autoRange,fixedStart:n.fixedStart,fixedEnd:n.fixedEnd}},ua=(t,n)=>t?typeof t=="string"?{timezone:t,exactMatch:!1,dateInTz:void 0,emitTimezone:n,convertModel:!0}:{timezone:t.timezone,exactMatch:t.exactMatch??!1,dateInTz:t.dateInTz??void 0,emitTimezone:n??t.emitTimezone,convertModel:t.convertModel??!0}:{timezone:void 0,exactMatch:!1,emitTimezone:n},Ht=(t,n,l)=>new Map(t.map(r=>{const a=Ct(r,n,l);return[At(a),a]})),ca=(t,n)=>t.length?new Map(t.map(l=>{const r=Ct(l.date,n);return[At(r),l]})):null,da=t=>{var n;return{minDate:Bt(t.minDate,t.timezone,t.isSpecific),maxDate:Bt(t.maxDate,t.timezone,t.isSpecific),disabledDates:Pt(t.disabledDates)?Ht(t.disabledDates,t.timezone,t.isSpecific):t.disabledDates,allowedDates:Pt(t.allowedDates)?Ht(t.allowedDates,t.timezone,t.isSpecific):null,highlight:typeof t.highlight=="object"&&Pt((n=t.highlight)==null?void 0:n.dates)?Ht(t.highlight.dates,t.timezone):t.highlight,markers:ca(t.markers,t.timezone)}},fa=(t,n)=>typeof t=="boolean"?{enabled:t,dragSelect:!0,limit:+n}:{enabled:!!t,limit:t.limit?+t.limit:null,dragSelect:t.dragSelect??!0},ge=t=>{const n=()=>{const z=t.enableSeconds?":ss":"",Z=t.enableMinutes?":mm":"";return t.is24?`HH${Z}${z}`:`hh${Z}${z} aa`},l=()=>{var z;return t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?n():t.weekPicker?`${((z=E.value)==null?void 0:z.type)==="iso"?"RR":"ww"}-yyyy`:t.yearPicker?"yyyy":t.quarterPicker?"QQQ/yyyy":t.enableTimePicker?`MM/dd/yyyy, ${n()}`:"MM/dd/yyyy"},r=z=>pn(z,t.enableSeconds),a=()=>G.value.enabled?t.startTime&&Array.isArray(t.startTime)?[r(t.startTime[0]),r(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?r(t.startTime):null,m=e.computed(()=>Zn(t.multiCalendars)),f=e.computed(()=>a()),s=e.computed(()=>Jn(t.ariaLabels)),$=e.computed(()=>na(t.filters)),V=e.computed(()=>ea(t.transitions)),b=e.computed(()=>aa(t.actionRow)),v=e.computed(()=>Fn(t.previewFormat,t.format,l())),k=e.computed(()=>ta(t.textInput)),_=e.computed(()=>ra(t.inline)),K=e.computed(()=>la(t.config)),C=e.computed(()=>oa(t.highlight)),E=e.computed(()=>sa(t.weekNumbers)),M=e.computed(()=>ua(t.timezone,t.emitTimezone)),I=e.computed(()=>fa(t.multiDates,t.multiDatesLimit)),Y=e.computed(()=>da({minDate:t.minDate,maxDate:t.maxDate,disabledDates:t.disabledDates,allowedDates:t.allowedDates,highlight:C.value,markers:t.markers,timezone:M.value,isSpecific:t.monthPicker||t.yearPicker||t.quarterPicker})),G=e.computed(()=>ia(t.range,{minMaxRawRange:!1,maxRange:t.maxRange,minRange:t.minRange,noDisabledRange:t.noDisabledRange,showLastInRange:t.showLastInRange,partialRange:t.partialRange,disableTimeRangeValidation:t.disableTimeRangeValidation,autoRange:t.autoRange,fixedStart:t.fixedStart,fixedEnd:t.fixedEnd}));return{defaultedTransitions:V,defaultedMultiCalendars:m,defaultedStartTime:f,defaultedAriaLabels:s,defaultedFilters:$,defaultedActionRow:b,defaultedPreviewFormat:v,defaultedTextInput:k,defaultedInline:_,defaultedConfig:K,defaultedHighlight:C,defaultedWeekNumbers:E,defaultedRange:G,propDates:Y,defaultedTz:M,defaultedMultiDates:I,getDefaultPattern:l,getDefaultStartTime:a}},ma=(t,n,l)=>{const r=e.ref(),{defaultedTextInput:a,defaultedRange:m,defaultedTz:f,defaultedMultiDates:s,getDefaultPattern:$}=ge(n),V=e.ref(""),b=e.toRef(n,"format"),v=e.toRef(n,"formatLocale");e.watch(r,()=>{typeof n.onInternalModelChange=="function"&&t("internal-model-change",r.value,T(!0))},{deep:!0}),e.watch(m,(c,w)=>{c.enabled!==w.enabled&&(r.value=null)}),e.watch(b,()=>{d()});const k=c=>f.value.timezone&&f.value.convertModel?Ee(c,f.value.timezone):c,_=c=>{if(f.value.timezone&&f.value.convertModel){const w=En(f.value.timezone);return o.addHours(c,w)}return c},K=(c,w,le=!1)=>hn(c,n.format,n.formatLocale,a.value.rangeSeparator,n.modelAuto,w??$(),le),C=c=>c?n.modelType?re(c):{hours:o.getHours(c),minutes:o.getMinutes(c),seconds:n.enableSeconds?o.getSeconds(c):0}:null,E=c=>n.modelType?re(c):{month:o.getMonth(c),year:o.getYear(c)},M=c=>Array.isArray(c)?s.value.enabled?c.map(w=>I(w,o.setYear(x(),w))):dt(()=>[o.setYear(x(),c[0]),c[1]?o.setYear(x(),c[1]):Ze(m.value.partialRange)],m.value.enabled):o.setYear(x(),+c),I=(c,w)=>(typeof c=="string"||typeof c=="number")&&n.modelType?Q(c):w,Y=c=>Array.isArray(c)?[I(c[0],Ie(null,+c[0].hours,+c[0].minutes,c[0].seconds)),I(c[1],Ie(null,+c[1].hours,+c[1].minutes,c[1].seconds))]:I(c,Ie(null,c.hours,c.minutes,c.seconds)),G=c=>{const w=o.set(x(),{date:1});return Array.isArray(c)?s.value.enabled?c.map(le=>I(le,Ye(w,+le.month,+le.year))):dt(()=>[I(c[0],Ye(w,+c[0].month,+c[0].year)),I(c[1],c[1]?Ye(w,+c[1].month,+c[1].year):Ze(m.value.partialRange))],m.value.enabled):I(c,Ye(w,+c.month,+c.year))},z=c=>{if(Array.isArray(c))return c.map(w=>Q(w));throw new Error($t.dateArr("multi-dates"))},Z=c=>{if(Array.isArray(c)&&m.value.enabled){const w=c[0],le=c[1];return[x(Array.isArray(w)?w[0]:null),x(Array.isArray(le)?le[0]:null)]}return x(c[0])},ne=c=>n.modelAuto?Array.isArray(c)?[Q(c[0]),Q(c[1])]:n.autoApply?[Q(c)]:[Q(c),null]:Array.isArray(c)?dt(()=>c[1]?[Q(c[0]),c[1]?Q(c[1]):Ze(m.value.partialRange)]:[Q(c[0])],m.value.enabled):Q(c),B=()=>{Array.isArray(r.value)&&m.value.enabled&&r.value.length===1&&r.value.push(Ze(m.value.partialRange))},j=()=>{const c=r.value;return[re(c[0]),c[1]?re(c[1]):Ze(m.value.partialRange)]},X=()=>r.value[1]?j():re(be(r.value[0])),ee=()=>(r.value||[]).map(c=>re(c)),N=(c=!1)=>(c||B(),n.modelAuto?X():s.value.enabled?ee():Array.isArray(r.value)?dt(()=>j(),m.value.enabled):re(be(r.value))),H=c=>!c||Array.isArray(c)&&!c.length?null:n.timePicker?Y(be(c)):n.monthPicker?G(be(c)):n.yearPicker?M(be(c)):s.value.enabled?z(be(c)):n.weekPicker?Z(be(c)):ne(be(c)),te=c=>{const w=H(c);Nt(be(w))?(r.value=be(w),d()):(r.value=null,V.value="")},L=()=>{const c=w=>o.format(w,a.value.format);return`${c(r.value[0])} ${a.value.rangeSeparator} ${r.value[1]?c(r.value[1]):""}`},P=()=>l.value&&r.value?Array.isArray(r.value)?L():o.format(r.value,a.value.format):K(r.value),p=()=>r.value?s.value.enabled?r.value.map(c=>K(c)).join("; "):a.value.enabled&&typeof a.value.format=="string"?P():K(r.value):"",d=()=>{!n.format||typeof n.format=="string"||a.value.enabled&&typeof a.value.format=="string"?V.value=p():V.value=n.format(r.value)},Q=c=>{if(n.utc){const w=new Date(c);return n.utc==="preserve"?new Date(w.getTime()+w.getTimezoneOffset()*6e4):w}return n.modelType?_n.includes(n.modelType)?k(new Date(c)):n.modelType==="format"&&(typeof n.format=="string"||!n.format)?k(o.parse(c,$(),new Date,{locale:v.value})):k(o.parse(c,n.modelType,new Date,{locale:v.value})):k(new Date(c))},re=c=>c?n.utc?xn(c,n.utc==="preserve",n.enableSeconds):n.modelType?n.modelType==="timestamp"?+_(c):n.modelType==="iso"?_(c).toISOString():n.modelType==="format"&&(typeof n.format=="string"||!n.format)?K(_(c)):K(_(c),n.modelType,!0):_(c):"",D=(c,w=!1,le=!1)=>{if(le)return c;if(t("update:model-value",c),f.value.emitTimezone&&w){const fe=Array.isArray(c)?c.map(i=>Ee(be(i),f.value.emitTimezone)):Ee(be(c),f.value.emitTimezone);t("update:model-timezone-value",fe)}},S=c=>Array.isArray(r.value)?s.value.enabled?r.value.map(w=>c(w)):[c(r.value[0]),r.value[1]?c(r.value[1]):Ze(m.value.partialRange)]:c(be(r.value)),W=()=>{if(Array.isArray(r.value)){const c=Ve(r.value[0],n.weekStart),w=r.value[1]?Ve(r.value[1],n.weekStart):[];return[c.map(le=>x(le)),w.map(le=>x(le))]}return Ve(r.value,n.weekStart).map(c=>x(c))},u=(c,w)=>D(be(S(c)),!1,w),R=c=>{const w=W();return c?w:t("update:model-value",W())},T=(c=!1)=>(c||d(),n.monthPicker?u(E,c):n.timePicker?u(C,c):n.yearPicker?u(o.getYear,c):n.weekPicker?R(c):D(N(c),!0,c));return{inputValue:V,internalModelValue:r,checkBeforeEmit:()=>r.value?m.value.enabled?m.value.partialRange?r.value.length>=1:r.value.length===2:!!r.value:!1,parseExternalModelValue:te,formatInputValue:d,emitModelValue:T}},pa=(t,n)=>{const{defaultedFilters:l,propDates:r}=ge(t),{validateMonthYearInRange:a}=We(t),m=(b,v)=>{let k=b;return l.value.months.includes(o.getMonth(k))?(k=v?o.addMonths(b,1):o.subMonths(b,1),m(k,v)):k},f=(b,v)=>{let k=b;return l.value.years.includes(o.getYear(k))?(k=v?o.addYears(b,1):o.subYears(b,1),f(k,v)):k},s=(b,v=!1)=>{const k=o.set(x(),{month:t.month,year:t.year});let _=b?o.addMonths(k,1):o.subMonths(k,1);t.disableYearSelect&&(_=o.setYear(_,t.year));let K=o.getMonth(_),C=o.getYear(_);l.value.months.includes(K)&&(_=m(_,b),K=o.getMonth(_),C=o.getYear(_)),l.value.years.includes(C)&&(_=f(_,b),C=o.getYear(_)),a(K,C,b,t.preventMinMaxNavigation)&&$(K,C,v)},$=(b,v,k)=>{n("update-month-year",{month:b,year:v,fromNav:k})},V=e.computed(()=>b=>gn(o.set(x(),{month:t.month,year:t.year}),r.value.maxDate,r.value.minDate,t.preventMinMaxNavigation,b));return{handleMonthYearChange:s,isDisabled:V,updateMonthYear:$}},mt={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:[String,Object],default:null},emitTimezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Function,Object],default:null},teleport:{type:[Boolean,String,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},calendarClassName:{type:String,default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:[Object,Boolean],default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:[Boolean,Object],default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},onInternalModelChange:{type:[Function,Object],default:null},enableMinutes:{type:Boolean,default:!0}},Ne={...mt,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},menuWrapRef:{type:Object,default:null},getInputRect:{type:Function,default:()=>({})}},ga=["title"],ha=["disabled"],ya=e.defineComponent({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...Ne},emits:["close-picker","select-date","select-now","invalid-select"],setup(t,{emit:n}){const l=n,r=t,{defaultedActionRow:a,defaultedPreviewFormat:m,defaultedMultiCalendars:f,defaultedTextInput:s,defaultedInline:$,defaultedRange:V,defaultedMultiDates:b,getDefaultPattern:v}=ge(r),{isTimeValid:k,isMonthValid:_}=We(r),{buildMatrix:K}=Le(),C=e.ref(null),E=e.ref(null),M=e.ref(!1),I=e.ref({}),Y=e.ref(null),G=e.ref(null);e.onMounted(()=>{r.arrowNavigation&&K([we(C),we(E)],"actionRow"),z(),window.addEventListener("resize",z)}),e.onUnmounted(()=>{window.removeEventListener("resize",z)});const z=()=>{M.value=!1,setTimeout(()=>{var p,d;const L=(p=Y.value)==null?void 0:p.getBoundingClientRect(),P=(d=G.value)==null?void 0:d.getBoundingClientRect();L&&P&&(I.value.maxWidth=`${P.width-L.width-20}px`),M.value=!0},0)},Z=e.computed(()=>V.value.enabled&&!V.value.partialRange&&r.internalModelValue?r.internalModelValue.length===2:!0),ne=e.computed(()=>!k.value(r.internalModelValue)||!_.value(r.internalModelValue)||!Z.value),B=()=>{const L=m.value;return r.timePicker||r.monthPicker,L(be(r.internalModelValue))},j=()=>{const L=r.internalModelValue;return f.value.count>0?`${X(L[0])} - ${X(L[1])}`:[X(L[0]),X(L[1])]},X=L=>hn(L,m.value,r.formatLocale,s.value.rangeSeparator,r.modelAuto,v()),ee=e.computed(()=>!r.internalModelValue||!r.menuMount?"":typeof m.value=="string"?Array.isArray(r.internalModelValue)?r.internalModelValue.length===2&&r.internalModelValue[1]?j():b.value.enabled?r.internalModelValue.map(L=>`${X(L)}`):r.modelAuto?`${X(r.internalModelValue[0])}`:`${X(r.internalModelValue[0])} -`:X(r.internalModelValue):B()),N=()=>b.value.enabled?"; ":" - ",H=e.computed(()=>Array.isArray(ee.value)?ee.value.join(N()):ee.value),te=()=>{k.value(r.internalModelValue)&&_.value(r.internalModelValue)&&Z.value?l("select-date"):l("invalid-select")};return(L,P)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"actionRowRef",ref:G,class:"dp__action_row"},[L.$slots["action-row"]?e.renderSlot(L.$slots,"action-row",e.normalizeProps(e.mergeProps({key:0},{internalModelValue:L.internalModelValue,disabled:ne.value,selectDate:()=>L.$emit("select-date"),closePicker:()=>L.$emit("close-picker")}))):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.unref(a).showPreview?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__selection_preview",title:H.value,style:e.normalizeStyle(I.value)},[L.$slots["action-preview"]&&M.value?e.renderSlot(L.$slots,"action-preview",{key:0,value:L.internalModelValue}):e.createCommentVNode("",!0),!L.$slots["action-preview"]&&M.value?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(H.value),1)],64)):e.createCommentVNode("",!0)],12,ga)):e.createCommentVNode("",!0),e.createElementVNode("div",{ref_key:"actionBtnContainer",ref:Y,class:"dp__action_buttons","data-dp-element":"action-row"},[L.$slots["action-buttons"]?e.renderSlot(L.$slots,"action-buttons",{key:0,value:L.internalModelValue}):e.createCommentVNode("",!0),L.$slots["action-buttons"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[!e.unref($).enabled&&e.unref(a).showCancel?(e.openBlock(),e.createElementBlock("button",{key:0,ref_key:"cancelButtonRef",ref:C,type:"button",class:"dp__action_button dp__action_cancel",onClick:P[0]||(P[0]=p=>L.$emit("close-picker")),onKeydown:P[1]||(P[1]=p=>e.unref(Be)(p,()=>L.$emit("close-picker")))},e.toDisplayString(L.cancelText),545)):e.createCommentVNode("",!0),e.unref(a).showNow?(e.openBlock(),e.createElementBlock("button",{key:1,type:"button",class:"dp__action_button dp__action_cancel",onClick:P[2]||(P[2]=p=>L.$emit("select-now")),onKeydown:P[3]||(P[3]=p=>e.unref(Be)(p,()=>L.$emit("select-now")))},e.toDisplayString(L.nowButtonLabel),33)):e.createCommentVNode("",!0),e.unref(a).showSelect?(e.openBlock(),e.createElementBlock("button",{key:2,ref_key:"selectButtonRef",ref:E,type:"button",class:"dp__action_button dp__action_select",disabled:ne.value,"data-test":"select-button",onKeydown:P[4]||(P[4]=p=>e.unref(Be)(p,()=>te())),onClick:te},e.toDisplayString(L.selectText),41,ha)):e.createCommentVNode("",!0)],64))],512)],64))],512))}}),ka={class:"dp__selection_grid_header"},ba=["aria-selected","aria-disabled","data-test","onClick","onKeydown","onMouseover"],wa=["aria-label"],nt=e.defineComponent({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{},menuWrapRef:{},ariaLabels:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(t,{expose:n,emit:l}){const{setSelectionGrid:r,buildMultiLevelMatrix:a,setMonthPicker:m}=Le(),f=l,s=t,{defaultedAriaLabels:$,defaultedTextInput:V,defaultedConfig:b}=ge(s),{hideNavigationButtons:v}=ht(),k=e.ref(!1),_=e.ref(null),K=e.ref(null),C=e.ref([]),E=e.ref(),M=e.ref(null),I=e.ref(0),Y=e.ref(null);e.onBeforeUpdate(()=>{_.value=null}),e.onMounted(()=>{e.nextTick().then(()=>ee()),s.noOverlayFocus||z(),G(!0)}),e.onUnmounted(()=>G(!1));const G=S=>{var W;s.arrowNavigation&&((W=s.headerRefs)!=null&&W.length?m(S):r(S))},z=()=>{var W;const S=we(K);S&&(V.value.enabled||(_.value?(W=_.value)==null||W.focus({preventScroll:!0}):S.focus({preventScroll:!0})),k.value=S.clientHeight<S.scrollHeight)},Z=e.computed(()=>({dp__overlay:!0,"dp--overlay-absolute":!s.useRelative,"dp--overlay-relative":s.useRelative})),ne=e.computed(()=>s.useRelative?{height:`${s.height}px`,width:"260px"}:void 0),B=e.computed(()=>({dp__overlay_col:!0})),j=e.computed(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:k.value,dp__button_bottom:s.isLast})),X=e.computed(()=>{var S,W;return{dp__overlay_container:!0,dp__container_flex:((S=s.items)==null?void 0:S.length)<=6,dp__container_block:((W=s.items)==null?void 0:W.length)>6}});e.watch(()=>s.items,()=>ee(!1),{deep:!0});const ee=(S=!0)=>{e.nextTick().then(()=>{const W=we(_),u=we(K),R=we(M),T=we(Y),oe=R?R.getBoundingClientRect().height:0;u&&(u.getBoundingClientRect().height?I.value=u.getBoundingClientRect().height-oe:I.value=b.value.modeHeight-oe),W&&T&&S&&(T.scrollTop=W.offsetTop-T.offsetTop-(I.value/2-W.getBoundingClientRect().height)-oe)})},N=S=>{S.disabled||f("selected",S.value)},H=()=>{f("toggle"),f("reset-flow")},te=()=>{s.escClose&&H()},L=(S,W,u,R)=>{S&&((W.active||W.value===s.focusValue)&&(_.value=S),s.arrowNavigation&&(Array.isArray(C.value[u])?C.value[u][R]=S:C.value[u]=[S],P()))},P=()=>{var W,u;const S=(W=s.headerRefs)!=null&&W.length?[s.headerRefs].concat(C.value):C.value.concat([s.skipButtonRef?[]:[M.value]]);a(be(S),(u=s.headerRefs)!=null&&u.length?"monthPicker":"selectionGrid")},p=S=>{s.arrowNavigation||Oe(S,b.value,!0)},d=S=>{E.value=S,f("hover-value",S)},Q=()=>{if(H(),!s.isLast){const S=Wn(s.menuWrapRef??null,"action-row");if(S){const W=sn(S);W==null||W.focus()}}},re=S=>{switch(S.key){case pe.esc:return te();case pe.arrowLeft:return p(S);case pe.arrowRight:return p(S);case pe.arrowUp:return p(S);case pe.arrowDown:return p(S);default:return}},D=S=>{if(S.key===pe.enter)return H();if(S.key===pe.tab)return Q()};return n({focusGrid:z}),(S,W)=>{var u;return e.openBlock(),e.createElementBlock("div",{ref_key:"gridWrapRef",ref:K,class:e.normalizeClass(Z.value),style:e.normalizeStyle(ne.value),role:"dialog",tabindex:"0",onKeydown:re,onClick:W[0]||(W[0]=e.withModifiers(()=>{},["prevent"]))},[e.createElementVNode("div",{ref_key:"containerRef",ref:Y,class:e.normalizeClass(X.value),role:"grid",style:e.normalizeStyle({"--dp-overlay-height":`${I.value}px`})},[e.createElementVNode("div",ka,[e.renderSlot(S.$slots,"header")]),S.$slots.overlay?e.renderSlot(S.$slots,"overlay",{key:0}):(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(S.items,(R,T)=>(e.openBlock(),e.createElementBlock("div",{key:T,class:e.normalizeClass(["dp__overlay_row",{dp__flex_row:S.items.length>=3}]),role:"row"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(R,(oe,c)=>(e.openBlock(),e.createElementBlock("div",{key:oe.value,ref_for:!0,ref:w=>L(w,oe,T,c),role:"gridcell",class:e.normalizeClass(B.value),"aria-selected":oe.active||void 0,"aria-disabled":oe.disabled||void 0,tabindex:"0","data-test":oe.text,onClick:e.withModifiers(w=>N(oe),["prevent"]),onKeydown:w=>e.unref(Be)(w,()=>N(oe),!0),onMouseover:w=>d(oe.value)},[e.createElementVNode("div",{class:e.normalizeClass(oe.className)},[S.$slots.item?e.renderSlot(S.$slots,"item",{key:0,item:oe}):e.createCommentVNode("",!0),S.$slots.item?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(oe.text),1)],64))],2)],42,ba))),128))],2))),128))],6),S.$slots["button-icon"]?e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:0,ref_key:"toggleButton",ref:M,type:"button","aria-label":(u=e.unref($))==null?void 0:u.toggleOverlay,class:e.normalizeClass(j.value),tabindex:"0",onClick:H,onKeydown:D},[e.renderSlot(S.$slots,"button-icon")],42,wa)),[[e.vShow,!e.unref(v)(S.hideNavigation,S.type)]]):e.createCommentVNode("",!0)],38)}}}),pt=e.defineComponent({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean},collapse:{type:Boolean}},setup(t){const n=t,l=e.computed(()=>n.multiCalendars>0?[...Array(n.multiCalendars).keys()]:[0]),r=e.computed(()=>({dp__instance_calendar:n.multiCalendars>0}));return(a,m)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass({dp__menu_inner:!a.stretch,"dp--menu--inner-stretched":a.stretch,dp__flex_display:a.multiCalendars>0,"dp--flex-display-collapsed":a.collapse})},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.value,(f,s)=>(e.openBlock(),e.createElementBlock("div",{key:f,class:e.normalizeClass(r.value)},[e.renderSlot(a.$slots,"default",{instance:f,index:s})],2))),128))],2))}}),va=["aria-label","aria-disabled"],at=e.defineComponent({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(t,{emit:n}){const l=n,r=e.ref(null);return e.onMounted(()=>l("set-ref",r)),(a,m)=>(e.openBlock(),e.createElementBlock("button",{ref_key:"elRef",ref:r,type:"button",class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":a.ariaLabel,"aria-disabled":a.disabled||void 0,onClick:m[0]||(m[0]=f=>a.$emit("activate")),onKeydown:m[1]||(m[1]=f=>e.unref(Be)(f,()=>a.$emit("activate"),!0))},[e.createElementVNode("span",{class:e.normalizeClass(["dp__inner_nav",{dp__inner_nav_disabled:a.disabled}])},[e.renderSlot(a.$slots,"default")],2)],40,va))}}),Ma={class:"dp--year-mode-picker"},Da=["aria-label","data-test"],Dn=e.defineComponent({__name:"YearModePicker",props:{...Ne,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(t,{emit:n}){const l=n,r=t,{showRightIcon:a,showLeftIcon:m}=ht(),{defaultedConfig:f,defaultedMultiCalendars:s,defaultedAriaLabels:$,defaultedTransitions:V}=ge(r),{showTransition:b,transitionName:v}=rt(V),k=(C=!1,E)=>{l("toggle-year-picker",{flow:C,show:E})},_=C=>{l("year-select",C)},K=(C=!1)=>{l("handle-year",C)};return(C,E)=>{var M,I,Y;return e.openBlock(),e.createElementBlock("div",Ma,[e.unref(m)(e.unref(s),t.instance)?(e.openBlock(),e.createBlock(at,{key:0,ref:"mpPrevIconRef","aria-label":(M=e.unref($))==null?void 0:M.prevYear,disabled:t.isDisabled(!1),onActivate:E[0]||(E[0]=G=>K(!1))},{default:e.withCtx(()=>[C.$slots["arrow-left"]?e.renderSlot(C.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),C.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(wt),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.createElementVNode("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":(I=e.unref($))==null?void 0:I.openYearsOverlay,"data-test":`year-mode-btn-${t.instance}`,onClick:E[1]||(E[1]=()=>k(!1)),onKeydown:E[2]||(E[2]=e.withKeys(()=>k(!1),["enter"]))},[C.$slots.year?e.renderSlot(C.$slots,"year",{key:0,year:t.year}):e.createCommentVNode("",!0),C.$slots.year?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(t.year),1)],64))],40,Da),e.unref(a)(e.unref(s),t.instance)?(e.openBlock(),e.createBlock(at,{key:1,ref:"mpNextIconRef","aria-label":(Y=e.unref($))==null?void 0:Y.nextYear,disabled:t.isDisabled(!0),onActivate:E[3]||(E[3]=G=>K(!0))},{default:e.withCtx(()=>[C.$slots["arrow-right"]?e.renderSlot(C.$slots,"arrow-right",{key:0}):e.createCommentVNode("",!0),C.$slots["arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(vt),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.createVNode(e.Transition,{name:e.unref(v)(t.showYearPicker),css:e.unref(b)},{default:e.withCtx(()=>[t.showYearPicker?(e.openBlock(),e.createBlock(nt,{key:0,items:t.items,"text-input":C.textInput,"esc-close":C.escClose,config:C.config,"is-last":C.autoApply&&!e.unref(f).keepActionRow,"hide-navigation":C.hideNavigation,"aria-labels":C.ariaLabels,type:"year",onToggle:k,onSelected:E[4]||(E[4]=G=>_(G))},e.createSlots({"button-icon":e.withCtx(()=>[C.$slots["calendar-icon"]?e.renderSlot(C.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),C.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Qe),{key:1}))]),_:2},[C.$slots["year-overlay-value"]?{name:"item",fn:e.withCtx(({item:G})=>[e.renderSlot(C.$slots,"year-overlay-value",{text:G.text,value:G.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation","aria-labels"])):e.createCommentVNode("",!0)]),_:3},8,["name","css"])])}}}),Wt=(t,n,l)=>{if(n.value&&Array.isArray(n.value))if(n.value.some(r=>ue(t,r))){const r=n.value.filter(a=>!ue(a,t));n.value=r.length?r:null}else(l&&+l>n.value.length||!l)&&n.value.push(t);else n.value=[t]},Ut=(t,n,l)=>{let r=t.value?t.value.slice():[];return r.length===2&&r[1]!==null&&(r=[]),r.length?he(n,r[0])?(r.unshift(n),l("range-start",r[0]),l("range-start",r[1])):(r[1]=n,l("range-end",n)):(r=[n],l("range-start",n)),r},gt=(t,n,l,r)=>{t&&(t[0]&&t[1]&&l&&n("auto-apply"),t[0]&&!t[1]&&r&&l&&n("auto-apply"))},Sn=t=>{Array.isArray(t.value)&&t.value.length<=2&&t.range?t.modelValue.value=t.value.map(n=>Ee(x(n),t.timezone)):Array.isArray(t.value)||(t.modelValue.value=Ee(x(t.value),t.timezone))},Cn=(t,n,l,r)=>Array.isArray(n.value)&&(n.value.length===2||n.value.length===1&&r.value.partialRange)?r.value.fixedStart&&(ye(t,n.value[0])||ue(t,n.value[0]))?[n.value[0],t]:r.value.fixedEnd&&(he(t,n.value[1])||ue(t,n.value[1]))?[t,n.value[1]]:(l("invalid-fixed-range",t),n.value):[],Bn=({multiCalendars:t,range:n,highlight:l,propDates:r,calendars:a,modelValue:m,props:f,filters:s,year:$,month:V,emit:b})=>{const v=e.computed(()=>Tt(f.yearRange,f.locale,f.reverseYears)),k=e.ref([!1]),_=e.computed(()=>(j,X)=>{const ee=o.set(Re(new Date),{month:V.value(j),year:$.value(j)}),N=X?o.endOfYear(ee):o.startOfYear(ee);return gn(N,r.value.maxDate,r.value.minDate,f.preventMinMaxNavigation,X)}),K=()=>Array.isArray(m.value)&&t.value.solo&&m.value[1],C=()=>{for(let j=0;j<t.value.count;j++)if(j===0)a.value[j]=a.value[0];else if(j===t.value.count-1&&K())a.value[j]={month:o.getMonth(m.value[1]),year:o.getYear(m.value[1])};else{const X=o.set(x(),a.value[j-1]);a.value[j]={month:o.getMonth(X),year:o.getYear(o.addYears(X,1))}}},E=j=>{if(!j)return C();const X=o.set(x(),a.value[j]);return a.value[0].year=o.getYear(o.subYears(X,t.value.count-1)),C()},M=(j,X)=>{const ee=o.differenceInYears(X,j);return n.value.showLastInRange&&ee>1?X:j},I=j=>f.focusStartDate||t.value.solo?j[0]:j[1]?M(j[0],j[1]):j[0],Y=()=>{if(m.value){const j=Array.isArray(m.value)?I(m.value):m.value;a.value[0]={month:o.getMonth(j),year:o.getYear(j)}}};e.onMounted(()=>{Y(),t.value.count&&C()});const G=(j,X)=>{a.value[X].year=j,b("update-month-year",{instance:X,year:j,month:a.value[X].month}),t.value.count&&!t.value.solo&&E(X)},z=e.computed(()=>j=>Xe(v.value,X=>{var te;const ee=$.value(j)===X.value,N=et(X.value,Je(r.value.minDate),Je(r.value.maxDate))||((te=s.value.years)==null?void 0:te.includes($.value(j))),H=Yt(l.value,X.value);return{active:ee,disabled:N,highlighted:H}})),Z=(j,X)=>{G(j,X),B(X)},ne=(j,X=!1)=>{if(!_.value(j,X)){const ee=X?$.value(j)+1:$.value(j)-1;G(ee,j)}},B=(j,X=!1,ee)=>{X||b("reset-flow"),ee!==void 0?k.value[j]=ee:k.value[j]=!k.value[j],k.value[j]?b("overlay-toggle",{open:!0,overlay:Me.year}):(b("overlay-closed"),b("overlay-toggle",{open:!1,overlay:Me.year}))};return{isDisabled:_,groupedYears:z,showYearPicker:k,selectYear:G,toggleYearPicker:B,handleYearSelect:Z,handleYear:ne}},Sa=(t,n)=>{const{defaultedMultiCalendars:l,defaultedAriaLabels:r,defaultedTransitions:a,defaultedConfig:m,defaultedRange:f,defaultedHighlight:s,propDates:$,defaultedTz:V,defaultedFilters:b,defaultedMultiDates:v}=ge(t),{modelValue:k,year:_,month:K,calendars:C}=lt(t,n),E=e.computed(()=>an(t.formatLocale,t.locale,t.monthNameFormat)),M=e.ref(null),{checkMinMaxRange:I}=We(t),{selectYear:Y,groupedYears:G,showYearPicker:z,toggleYearPicker:Z,handleYearSelect:ne,handleYear:B,isDisabled:j}=Bn({modelValue:k,multiCalendars:l,range:f,highlight:s,calendars:C,year:_,propDates:$,month:K,filters:b,props:t,emit:n});e.onMounted(()=>{t.startDate&&(k.value&&t.focusStartDate||!k.value)&&Y(o.getYear(x(t.startDate)),0)});const X=R=>R?{month:o.getMonth(R),year:o.getYear(R)}:{month:null,year:null},ee=()=>k.value?Array.isArray(k.value)?k.value.map(R=>X(R)):X(k.value):X(),N=(R,T)=>{const oe=C.value[R],c=ee();return Array.isArray(c)?c.some(w=>w.year===(oe==null?void 0:oe.year)&&w.month===T):(oe==null?void 0:oe.year)===c.year&&T===c.month},H=(R,T,oe)=>{var w,le;const c=ee();return Array.isArray(c)?_.value(T)===((w=c[oe])==null?void 0:w.year)&&R===((le=c[oe])==null?void 0:le.month):!1},te=(R,T)=>{if(f.value.enabled){const oe=ee();if(Array.isArray(k.value)&&Array.isArray(oe)){const c=H(R,T,0)||H(R,T,1),w=Ye(Re(x()),R,_.value(T));return ct(k.value,M.value,w)&&!c}return!1}return!1},L=e.computed(()=>R=>Xe(E.value,T=>{var fe;const oe=N(R,T.value),c=et(T.value,dn(_.value(R),$.value.minDate),fn(_.value(R),$.value.maxDate))||Xn($.value.disabledDates,_.value(R)).includes(T.value)||((fe=b.value.months)==null?void 0:fe.includes(T.value)),w=te(T.value,R),le=kn(s.value,T.value,_.value(R));return{active:oe,disabled:c,isBetween:w,highlighted:le}})),P=(R,T)=>Ye(Re(x()),R,_.value(T)),p=(R,T)=>{const oe=k.value?k.value:Re(new Date);k.value=Ye(oe,R,_.value(T)),n("auto-apply"),n("update-flow-step")},d=(R,T)=>{const oe=P(R,T);f.value.fixedEnd||f.value.fixedStart?k.value=Cn(oe,k,n,f):k.value?I(oe,k.value)&&(k.value=Ut(k,P(R,T),n)):k.value=[P(R,T)],e.nextTick().then(()=>{gt(k.value,n,t.autoApply,t.modelAuto)})},Q=(R,T)=>{Wt(P(R,T),k,v.value.limit),n("auto-apply",!0)},re=(R,T)=>(C.value[T].month=R,S(T,C.value[T].year,R),v.value.enabled?Q(R,T):f.value.enabled?d(R,T):p(R,T)),D=(R,T)=>{Y(R,T),S(T,R,null)},S=(R,T,oe)=>{let c=oe;if(!c&&c!==0){const w=ee();c=Array.isArray(w)?w[R].month:w.month}n("update-month-year",{instance:R,year:T,month:c})};return{groupedMonths:L,groupedYears:G,year:_,isDisabled:j,defaultedMultiCalendars:l,defaultedAriaLabels:r,defaultedTransitions:a,defaultedConfig:m,showYearPicker:z,modelValue:k,presetDate:(R,T)=>{Sn({value:R,modelValue:k,range:f.value.enabled,timezone:T?void 0:V.value.timezone}),n("auto-apply")},setHoverDate:(R,T)=>{M.value=P(R,T)},selectMonth:re,selectYear:D,toggleYearPicker:Z,handleYearSelect:ne,handleYear:B,getModelMonthYear:ee}},Ca=e.defineComponent({compatConfig:{MODE:3},__name:"MonthPicker",props:{...Ne},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","update-flow-step","mount","invalid-fixed-range","overlay-toggle"],setup(t,{expose:n,emit:l}){const r=l,a=e.useSlots(),m=$e(a,"yearMode"),f=t;e.onMounted(()=>{f.shadow||r("mount",null)});const{groupedMonths:s,groupedYears:$,year:V,isDisabled:b,defaultedMultiCalendars:v,defaultedConfig:k,showYearPicker:_,modelValue:K,presetDate:C,setHoverDate:E,selectMonth:M,selectYear:I,toggleYearPicker:Y,handleYearSelect:G,handleYear:z,getModelMonthYear:Z}=Sa(f,r);return n({getSidebarProps:()=>({modelValue:K,year:V,getModelMonthYear:Z,selectMonth:M,selectYear:I,handleYear:z}),presetDate:C,toggleYearPicker:B=>Y(0,B)}),(B,j)=>(e.openBlock(),e.createBlock(pt,{"multi-calendars":e.unref(v).count,collapse:B.collapse,stretch:""},{default:e.withCtx(({instance:X})=>[B.$slots["top-extra"]?e.renderSlot(B.$slots,"top-extra",{key:0,value:B.internalModelValue}):e.createCommentVNode("",!0),B.$slots["month-year"]?e.renderSlot(B.$slots,"month-year",e.normalizeProps(e.mergeProps({key:1},{year:e.unref(V),months:e.unref(s)(X),years:e.unref($)(X),selectMonth:e.unref(M),selectYear:e.unref(I),instance:X}))):(e.openBlock(),e.createBlock(nt,{key:2,items:e.unref(s)(X),"arrow-navigation":B.arrowNavigation,"is-last":B.autoApply&&!e.unref(k).keepActionRow,"esc-close":B.escClose,height:e.unref(k).modeHeight,config:B.config,"no-overlay-focus":!!(B.noOverlayFocus||B.textInput),"use-relative":"",type:"month",onSelected:ee=>e.unref(M)(ee,X),onHoverValue:ee=>e.unref(E)(ee,X)},e.createSlots({header:e.withCtx(()=>[e.createVNode(Dn,e.mergeProps(B.$props,{items:e.unref($)(X),instance:X,"show-year-picker":e.unref(_)[X],year:e.unref(V)(X),"is-disabled":ee=>e.unref(b)(X,ee),onHandleYear:ee=>e.unref(z)(X,ee),onYearSelect:ee=>e.unref(G)(ee,X),onToggleYearPicker:ee=>e.unref(Y)(X,ee==null?void 0:ee.flow,ee==null?void 0:ee.show)}),e.createSlots({_:2},[e.renderList(e.unref(m),(ee,N)=>({name:ee,fn:e.withCtx(H=>[e.renderSlot(B.$slots,ee,e.normalizeProps(e.guardReactiveProps(H)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},[B.$slots["month-overlay-value"]?{name:"item",fn:e.withCtx(({item:ee})=>[e.renderSlot(B.$slots,"month-overlay-value",{text:ee.text,value:ee.value})]),key:"0"}:void 0]),1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars","collapse"]))}}),Ba=(t,n)=>{const{modelValue:l}=lt(t,n),r=e.ref(null),{defaultedHighlight:a,defaultedMultiDates:m,defaultedFilters:f,defaultedRange:s,propDates:$}=ge(t),V=e.ref();e.onMounted(()=>{t.startDate&&(l.value&&t.focusStartDate||!l.value)&&(V.value=o.getYear(x(t.startDate)))});const b=E=>Array.isArray(l.value)?l.value.some(M=>o.getYear(M)===E):l.value?o.getYear(l.value)===E:!1,v=E=>s.value.enabled&&Array.isArray(l.value)?ct(l.value,r.value,_(E)):!1,k=e.computed(()=>Xe(Tt(t.yearRange,t.locale,t.reverseYears),E=>{const M=b(E.value),I=et(E.value,Je($.value.minDate),Je($.value.maxDate))||f.value.years.includes(E.value),Y=v(E.value)&&!M,G=Yt(a.value,E.value);return{active:M,disabled:I,isBetween:Y,highlighted:G}})),_=E=>o.setYear(Re(new Date),E);return{groupedYears:k,modelValue:l,focusYear:V,setHoverValue:E=>{r.value=o.setYear(Re(new Date),E)},selectYear:E=>{var M;if(n("update-month-year",{instance:0,year:E}),m.value.enabled)return l.value?Array.isArray(l.value)&&(((M=l.value)==null?void 0:M.map(Y=>o.getYear(Y))).includes(E)?l.value=l.value.filter(Y=>o.getYear(Y)!==E):l.value.push(o.setYear(Ce(x()),E))):l.value=[o.setYear(Ce(x()),E)],n("auto-apply",!0);s.value.enabled?(l.value=Ut(l,_(E),n),e.nextTick().then(()=>{gt(l.value,n,t.autoApply,t.modelAuto)})):(l.value=_(E),n("auto-apply"))}}},Ta=e.defineComponent({compatConfig:{MODE:3},__name:"YearPicker",props:{...Ne},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply","update-month-year"],setup(t,{expose:n,emit:l}){const r=l,a=t,{groupedYears:m,modelValue:f,focusYear:s,selectYear:$,setHoverValue:V}=Ba(a,r),{defaultedConfig:b}=ge(a);return n({getSidebarProps:()=>({modelValue:f,selectYear:$})}),(k,_)=>(e.openBlock(),e.createElementBlock("div",null,[k.$slots["top-extra"]?e.renderSlot(k.$slots,"top-extra",{key:0,value:k.internalModelValue}):e.createCommentVNode("",!0),k.$slots["month-year"]?e.renderSlot(k.$slots,"month-year",e.normalizeProps(e.mergeProps({key:1},{years:e.unref(m),selectYear:e.unref($)}))):(e.openBlock(),e.createBlock(nt,{key:2,items:e.unref(m),"is-last":k.autoApply&&!e.unref(b).keepActionRow,height:e.unref(b).modeHeight,config:k.config,"no-overlay-focus":!!(k.noOverlayFocus||k.textInput),"focus-value":e.unref(s),type:"year","use-relative":"",onSelected:e.unref($),onHoverValue:e.unref(V)},e.createSlots({_:2},[k.$slots["year-overlay-value"]?{name:"item",fn:e.withCtx(({item:K})=>[e.renderSlot(k.$slots,"year-overlay-value",{text:K.text,value:K.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),$a={key:0,class:"dp__time_input"},Aa=["data-test","aria-label","onKeydown","onClick","onMousedown"],Pa=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),Ra=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),Na=["aria-label","disabled","data-test","onKeydown","onClick"],Ea=["data-test","aria-label","onKeydown","onClick","onMousedown"],_a=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),Va=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),Ya={key:0},Oa=["aria-label"],Ia=e.defineComponent({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Ne},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","overlay-opened","am-pm-change"],setup(t,{expose:n,emit:l}){const r=l,a=t,{setTimePickerElements:m,setTimePickerBackRef:f}=Le(),{defaultedAriaLabels:s,defaultedTransitions:$,defaultedFilters:V,defaultedConfig:b,defaultedRange:v}=ge(a),{transitionName:k,showTransition:_}=rt($),K=e.reactive({hours:!1,minutes:!1,seconds:!1}),C=e.ref("AM"),E=e.ref(null),M=e.ref([]),I=e.ref();e.onMounted(()=>{r("mounted")});const Y=i=>o.set(new Date,{hours:i.hours,minutes:i.minutes,seconds:a.enableSeconds?i.seconds:0,milliseconds:0}),G=e.computed(()=>i=>P(i,a[i])||Z(i,a[i])),z=e.computed(()=>({hours:a.hours,minutes:a.minutes,seconds:a.seconds})),Z=(i,O)=>v.value.enabled&&!v.value.disableTimeRangeValidation?!a.validateTime(i,O):!1,ne=(i,O)=>{if(v.value.enabled&&!v.value.disableTimeRangeValidation){const J=O?+a[`${i}Increment`]:-+a[`${i}Increment`],A=a[i]+J;return!a.validateTime(i,A)}return!1},B=e.computed(()=>i=>!D(+a[i]+ +a[`${i}Increment`],i)||ne(i,!0)),j=e.computed(()=>i=>!D(+a[i]-+a[`${i}Increment`],i)||ne(i,!1)),X=(i,O)=>o.add(o.set(x(),i),O),ee=(i,O)=>o.sub(o.set(x(),i),O),N=e.computed(()=>({dp__time_col:!0,dp__time_col_block:!a.timePickerInline,dp__time_col_reg_block:!a.enableSeconds&&a.is24&&!a.timePickerInline,dp__time_col_reg_inline:!a.enableSeconds&&a.is24&&a.timePickerInline,dp__time_col_reg_with_button:!a.enableSeconds&&!a.is24,dp__time_col_sec:a.enableSeconds&&a.is24,dp__time_col_sec_with_button:a.enableSeconds&&!a.is24})),H=e.computed(()=>{const i=[{type:"hours"}];return a.enableMinutes&&i.push({type:"",separator:!0},{type:"minutes"}),a.enableSeconds&&i.push({type:"",separator:!0},{type:"seconds"}),i}),te=e.computed(()=>H.value.filter(i=>!i.separator)),L=e.computed(()=>i=>{if(i==="hours"){const O=oe(+a.hours);return{text:O<10?`0${O}`:`${O}`,value:O}}return{text:a[i]<10?`0${a[i]}`:`${a[i]}`,value:a[i]}}),P=(i,O)=>{var A;if(!a.disabledTimesConfig)return!1;const J=a.disabledTimesConfig(a.order,i==="hours"?O:void 0);return J[i]?!!((A=J[i])!=null&&A.includes(O)):!0},p=(i,O)=>O!=="hours"||C.value==="AM"?i:i+12,d=i=>{const O=a.is24?24:12,J=i==="hours"?O:60,A=+a[`${i}GridIncrement`],ae=i==="hours"&&!a.is24?A:0,y=[];for(let q=ae;q<J;q+=A)y.push({value:a.is24?q:p(q,i),text:q<10?`0${q}`:`${q}`});return i==="hours"&&!a.is24&&y.unshift({value:C.value==="PM"?12:0,text:"12"}),Xe(y,q=>({active:!1,disabled:V.value.times[i].includes(q.value)||!D(q.value,i)||P(i,q.value)||Z(i,q.value)}))},Q=i=>i>=0?i:59,re=i=>i>=0?i:23,D=(i,O)=>{const J=a.minTime?Y(Rt(a.minTime)):null,A=a.maxTime?Y(Rt(a.maxTime)):null,ae=Y(Rt(z.value,O,O==="minutes"||O==="seconds"?Q(i):re(i)));return J&&A?(o.isBefore(ae,A)||o.isEqual(ae,A))&&(o.isAfter(ae,J)||o.isEqual(ae,J)):J?o.isAfter(ae,J)||o.isEqual(ae,J):A?o.isBefore(ae,A)||o.isEqual(ae,A):!0},S=i=>a[`no${i[0].toUpperCase()+i.slice(1)}Overlay`],W=i=>{S(i)||(K[i]=!K[i],K[i]?r("overlay-opened",i):r("overlay-closed",i))},u=i=>i==="hours"?o.getHours:i==="minutes"?o.getMinutes:o.getSeconds,R=()=>{I.value&&clearTimeout(I.value)},T=(i,O=!0,J)=>{const A=O?X:ee,ae=O?+a[`${i}Increment`]:-+a[`${i}Increment`];D(+a[i]+ae,i)&&r(`update:${i}`,u(i)(A({[i]:+a[i]},{[i]:+a[`${i}Increment`]}))),!(J!=null&&J.keyboard)&&b.value.timeArrowHoldThreshold&&(I.value=setTimeout(()=>{T(i,O)},b.value.timeArrowHoldThreshold))},oe=i=>a.is24?i:(i>=12?C.value="PM":C.value="AM",On(i)),c=()=>{C.value==="PM"?(C.value="AM",r("update:hours",a.hours-12)):(C.value="PM",r("update:hours",a.hours+12)),r("am-pm-change",C.value)},w=i=>{K[i]=!0},le=(i,O,J)=>{if(i&&a.arrowNavigation){Array.isArray(M.value[O])?M.value[O][J]=i:M.value[O]=[i];const A=M.value.reduce((ae,y)=>y.map((q,ce)=>[...ae[ce]||[],y[ce]]),[]);f(a.closeTimePickerBtn),E.value&&(A[1]=A[1].concat(E.value)),m(A,a.order)}},fe=(i,O)=>(W(i),r(`update:${i}`,O));return n({openChildCmp:w}),(i,O)=>{var J;return i.disabled?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",$a,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(H.value,(A,ae)=>{var y,q,ce;return e.openBlock(),e.createElementBlock("div",{key:ae,class:e.normalizeClass(N.value)},[A.separator?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(" : ")],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("button",{ref_for:!0,ref:ie=>le(ie,ae,0),type:"button",class:e.normalizeClass({dp__btn:!0,dp__inc_dec_button:!i.timePickerInline,dp__inc_dec_button_inline:i.timePickerInline,dp__tp_inline_btn_top:i.timePickerInline,dp__inc_dec_button_disabled:B.value(A.type)}),"data-test":`${A.type}-time-inc-btn-${a.order}`,"aria-label":(y=e.unref(s))==null?void 0:y.incrementValue(A.type),tabindex:"0",onKeydown:ie=>e.unref(Be)(ie,()=>T(A.type,!0,{keyboard:!0}),!0),onClick:ie=>e.unref(b).timeArrowHoldThreshold?void 0:T(A.type,!0),onMousedown:ie=>e.unref(b).timeArrowHoldThreshold?T(A.type,!0):void 0,onMouseup:R},[a.timePickerInline?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[Pa,Ra],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[i.$slots["arrow-up"]?e.renderSlot(i.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),i.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Dt),{key:1}))],64))],42,Aa),e.createElementVNode("button",{ref_for:!0,ref:ie=>le(ie,ae,1),type:"button","aria-label":(q=e.unref(s))==null?void 0:q.openTpOverlay(A.type),class:e.normalizeClass({dp__time_display:!0,dp__time_display_block:!i.timePickerInline,dp__time_display_inline:i.timePickerInline,"dp--time-invalid":G.value(A.type),"dp--time-overlay-btn":!G.value(A.type)}),disabled:S(A.type),tabindex:"0","data-test":`${A.type}-toggle-overlay-btn-${a.order}`,onKeydown:ie=>e.unref(Be)(ie,()=>W(A.type),!0),onClick:ie=>W(A.type)},[i.$slots[A.type]?e.renderSlot(i.$slots,A.type,{key:0,text:L.value(A.type).text,value:L.value(A.type).value}):e.createCommentVNode("",!0),i.$slots[A.type]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(L.value(A.type).text),1)],64))],42,Na),e.createElementVNode("button",{ref_for:!0,ref:ie=>le(ie,ae,2),type:"button",class:e.normalizeClass({dp__btn:!0,dp__inc_dec_button:!i.timePickerInline,dp__inc_dec_button_inline:i.timePickerInline,dp__tp_inline_btn_bottom:i.timePickerInline,dp__inc_dec_button_disabled:j.value(A.type)}),"data-test":`${A.type}-time-dec-btn-${a.order}`,"aria-label":(ce=e.unref(s))==null?void 0:ce.decrementValue(A.type),tabindex:"0",onKeydown:ie=>e.unref(Be)(ie,()=>T(A.type,!1,{keyboard:!0}),!0),onClick:ie=>e.unref(b).timeArrowHoldThreshold?void 0:T(A.type,!1),onMousedown:ie=>e.unref(b).timeArrowHoldThreshold?T(A.type,!1):void 0,onMouseup:R},[a.timePickerInline?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[_a,Va],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[i.$slots["arrow-down"]?e.renderSlot(i.$slots,"arrow-down",{key:0}):e.createCommentVNode("",!0),i.$slots["arrow-down"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(St),{key:1}))],64))],42,Ea)],64))],2)}),128)),i.is24?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Ya,[i.$slots["am-pm-button"]?e.renderSlot(i.$slots,"am-pm-button",{key:0,toggle:c,value:C.value}):e.createCommentVNode("",!0),i.$slots["am-pm-button"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("button",{key:1,ref_key:"amPmButton",ref:E,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(J=e.unref(s))==null?void 0:J.amPmButton,tabindex:"0",onClick:c,onKeydown:O[0]||(O[0]=A=>e.unref(Be)(A,()=>c(),!0))},e.toDisplayString(C.value),41,Oa))])),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(te.value,(A,ae)=>(e.openBlock(),e.createBlock(e.Transition,{key:ae,name:e.unref(k)(K[A.type]),css:e.unref(_)},{default:e.withCtx(()=>[K[A.type]?(e.openBlock(),e.createBlock(nt,{key:0,items:d(A.type),"is-last":i.autoApply&&!e.unref(b).keepActionRow,"esc-close":i.escClose,type:A.type,"text-input":i.textInput,config:i.config,"arrow-navigation":i.arrowNavigation,"aria-labels":i.ariaLabels,onSelected:y=>fe(A.type,y),onToggle:y=>W(A.type),onResetFlow:O[1]||(O[1]=y=>i.$emit("reset-flow"))},e.createSlots({"button-icon":e.withCtx(()=>[i.$slots["clock-icon"]?e.renderSlot(i.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),i.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(i.timePickerInline?e.unref(Qe):e.unref(Mt)),{key:1}))]),_:2},[i.$slots[`${A.type}-overlay-value`]?{name:"item",fn:e.withCtx(({item:y})=>[e.renderSlot(i.$slots,`${A.type}-overlay-value`,{text:y.text,value:y.value})]),key:"0"}:void 0,i.$slots[`${A.type}-overlay-header`]?{name:"header",fn:e.withCtx(()=>[e.renderSlot(i.$slots,`${A.type}-overlay-header`,{toggle:()=>W(A.type)})]),key:"1"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","aria-labels","onSelected","onToggle"])):e.createCommentVNode("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),za={class:"dp--tp-wrap"},La=["aria-label","tabindex"],Ha=["tabindex"],Wa=["aria-label"],Tn=e.defineComponent({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Ne},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(t,{expose:n,emit:l}){const r=l,a=t,{buildMatrix:m,setTimePicker:f}=Le(),s=e.useSlots(),{defaultedTransitions:$,defaultedAriaLabels:V,defaultedTextInput:b,defaultedConfig:v,defaultedRange:k}=ge(a),{transitionName:_,showTransition:K}=rt($),{hideNavigationButtons:C}=ht(),E=e.ref(null),M=e.ref(null),I=e.ref([]),Y=e.ref(null);e.onMounted(()=>{r("mount"),!a.timePicker&&a.arrowNavigation?m([we(E.value)],"time"):f(!0,a.timePicker)});const G=e.computed(()=>k.value.enabled&&a.modelAuto?rn(a.internalModelValue):!0),z=e.ref(!1),Z=p=>({hours:Array.isArray(a.hours)?a.hours[p]:a.hours,minutes:Array.isArray(a.minutes)?a.minutes[p]:a.minutes,seconds:Array.isArray(a.seconds)?a.seconds[p]:a.seconds}),ne=e.computed(()=>{const p=[];if(k.value.enabled)for(let d=0;d<2;d++)p.push(Z(d));else p.push(Z(0));return p}),B=(p,d=!1,Q="")=>{d||r("reset-flow"),z.value=p,r(p?"overlay-opened":"overlay-closed",Me.time),a.arrowNavigation&&f(p),e.nextTick(()=>{Q!==""&&I.value[0]&&I.value[0].openChildCmp(Q)})},j=e.computed(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:a.autoApply&&!v.value.keepActionRow})),X=$e(s,"timePicker"),ee=(p,d,Q)=>k.value.enabled?d===0?[p,ne.value[1][Q]]:[ne.value[0][Q],p]:p,N=p=>{r("update:hours",p)},H=p=>{r("update:minutes",p)},te=p=>{r("update:seconds",p)},L=()=>{if(Y.value&&!b.value.enabled&&!a.noOverlayFocus){const p=sn(Y.value);p&&p.focus({preventScroll:!0})}},P=p=>{r("overlay-closed",p)};return n({toggleTimePicker:B}),(p,d)=>{var Q;return e.openBlock(),e.createElementBlock("div",za,[!p.timePicker&&!p.timePickerInline?e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:0,ref_key:"openTimePickerBtn",ref:E,type:"button",class:e.normalizeClass(j.value),"aria-label":(Q=e.unref(V))==null?void 0:Q.openTimePicker,tabindex:p.noOverlayFocus?void 0:0,"data-test":"open-time-picker-btn",onKeydown:d[0]||(d[0]=re=>e.unref(Be)(re,()=>B(!0))),onClick:d[1]||(d[1]=re=>B(!0))},[p.$slots["clock-icon"]?e.renderSlot(p.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),p.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Mt),{key:1}))],42,La)),[[e.vShow,!e.unref(C)(p.hideNavigation,"time")]]):e.createCommentVNode("",!0),e.createVNode(e.Transition,{name:e.unref(_)(z.value),css:e.unref(K)&&!p.timePickerInline},{default:e.withCtx(()=>{var re;return[z.value||p.timePicker||p.timePickerInline?(e.openBlock(),e.createElementBlock("div",{key:0,ref_key:"overlayRef",ref:Y,class:e.normalizeClass({dp__overlay:!p.timePickerInline,"dp--overlay-absolute":!a.timePicker&&!p.timePickerInline,"dp--overlay-relative":a.timePicker}),style:e.normalizeStyle(p.timePicker?{height:`${e.unref(v).modeHeight}px`}:void 0),tabindex:p.timePickerInline?void 0:0},[e.createElementVNode("div",{class:e.normalizeClass(p.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[p.$slots["time-picker-overlay"]?e.renderSlot(p.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:N,setMinutes:H,setSeconds:te}):e.createCommentVNode("",!0),p.$slots["time-picker-overlay"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(p.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(ne.value,(D,S)=>e.withDirectives((e.openBlock(),e.createBlock(Ia,e.mergeProps({key:S,ref_for:!0},{...p.$props,order:S,hours:D.hours,minutes:D.minutes,seconds:D.seconds,closeTimePickerBtn:M.value,disabledTimesConfig:t.disabledTimesConfig,disabled:S===0?p.fixedStart:p.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:I,"validate-time":(W,u)=>t.validateTime(W,ee(u,S,W)),"onUpdate:hours":W=>N(ee(W,S,"hours")),"onUpdate:minutes":W=>H(ee(W,S,"minutes")),"onUpdate:seconds":W=>te(ee(W,S,"seconds")),onMounted:L,onOverlayClosed:P,onOverlayOpened:d[2]||(d[2]=W=>p.$emit("overlay-opened",W)),onAmPmChange:d[3]||(d[3]=W=>p.$emit("am-pm-change",W))}),e.createSlots({_:2},[e.renderList(e.unref(X),(W,u)=>({name:W,fn:e.withCtx(R=>[e.renderSlot(p.$slots,W,e.mergeProps({ref_for:!0},R))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[e.vShow,S===0?!0:G.value]])),128))],2)),!p.timePicker&&!p.timePickerInline?e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:2,ref_key:"closeTimePickerBtn",ref:M,type:"button",class:e.normalizeClass(j.value),"aria-label":(re=e.unref(V))==null?void 0:re.closeTimePicker,tabindex:"0",onKeydown:d[4]||(d[4]=D=>e.unref(Be)(D,()=>B(!1))),onClick:d[5]||(d[5]=D=>B(!1))},[p.$slots["calendar-icon"]?e.renderSlot(p.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),p.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Qe),{key:1}))],42,Wa)),[[e.vShow,!e.unref(C)(p.hideNavigation,"time")]]):e.createCommentVNode("",!0)],2)],14,Ha)):e.createCommentVNode("",!0)]}),_:3},8,["name","css"])])}}}),$n=(t,n,l,r)=>{const{defaultedRange:a}=ge(t),m=(Y,G)=>Array.isArray(n[Y])?n[Y][G]:n[Y],f=Y=>t.enableSeconds?Array.isArray(n.seconds)?n.seconds[Y]:n.seconds:0,s=(Y,G)=>Y?G!==void 0?Ie(Y,m("hours",G),m("minutes",G),f(G)):Ie(Y,n.hours,n.minutes,f()):o.setSeconds(x(),f(G)),$=(Y,G)=>{n[Y]=G},V=e.computed(()=>t.modelAuto&&a.value.enabled?Array.isArray(l.value)?l.value.length>1:!1:a.value.enabled),b=(Y,G)=>{const z=Object.fromEntries(Object.keys(n).map(Z=>Z===Y?[Z,G]:[Z,n[Z]].slice()));if(V.value&&!a.value.disableTimeRangeValidation){const Z=B=>l.value?Ie(l.value[B],z.hours[B],z.minutes[B],z.seconds[B]):null,ne=B=>o.setMilliseconds(l.value[B],0);return!(ue(Z(0),Z(1))&&(o.isAfter(Z(0),ne(1))||o.isBefore(Z(1),ne(0))))}return!0},v=(Y,G)=>{b(Y,G)&&($(Y,G),r&&r())},k=Y=>{v("hours",Y)},_=Y=>{v("minutes",Y)},K=Y=>{v("seconds",Y)},C=(Y,G,z,Z)=>{G&&k(Y),!G&&!z&&_(Y),z&&K(Y),l.value&&Z(l.value)},E=Y=>{if(Y){const G=Array.isArray(Y),z=G?[+Y[0].hours,+Y[1].hours]:+Y.hours,Z=G?[+Y[0].minutes,+Y[1].minutes]:+Y.minutes,ne=G?[+Y[0].seconds,+Y[1].seconds]:+Y.seconds;$("hours",z),$("minutes",Z),t.enableSeconds&&$("seconds",ne)}},M=(Y,G)=>{const z={hours:Array.isArray(n.hours)?n.hours[Y]:n.hours,disabledArr:[]};return(G||G===0)&&(z.hours=G),Array.isArray(t.disabledTimes)&&(z.disabledArr=a.value.enabled&&Array.isArray(t.disabledTimes[Y])?t.disabledTimes[Y]:t.disabledTimes),z},I=e.computed(()=>(Y,G)=>{var z;if(Array.isArray(t.disabledTimes)){const{disabledArr:Z,hours:ne}=M(Y,G),B=Z.filter(j=>+j.hours===ne);return((z=B[0])==null?void 0:z.minutes)==="*"?{hours:[ne],minutes:void 0,seconds:void 0}:{hours:[],minutes:(B==null?void 0:B.map(j=>+j.minutes))??[],seconds:(B==null?void 0:B.map(j=>j.seconds?+j.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:$,updateHours:k,updateMinutes:_,updateSeconds:K,getSetDateTime:s,updateTimeValues:C,getSecondsValue:f,assignStartTime:E,validateTime:b,disabledTimesConfig:I}},Ua=(t,n)=>{const{modelValue:l,time:r}=lt(t,n),{defaultedStartTime:a,defaultedRange:m}=ge(t),{updateTimeValues:f,getSetDateTime:s,setTime:$,assignStartTime:V,disabledTimesConfig:b,validateTime:v}=$n(t,r,l,k);function k(){n("update-flow-step")}const _=z=>{const{hours:Z,minutes:ne,seconds:B}=z;return{hours:+Z,minutes:+ne,seconds:B?+B:0}},K=()=>{if(t.startTime){if(Array.isArray(t.startTime)){const Z=_(t.startTime[0]),ne=_(t.startTime[1]);return[o.set(x(),Z),o.set(x(),ne)]}const z=_(t.startTime);return o.set(x(),z)}return m.value.enabled?[null,null]:null},C=()=>{if(m.value.enabled){const[z,Z]=K();l.value=[s(z,0),s(Z,1)]}else l.value=s(K())},E=z=>Array.isArray(z)?[Ke(x(z[0])),Ke(x(z[1]))]:[Ke(z??x())],M=(z,Z,ne)=>{$("hours",z),$("minutes",Z),$("seconds",t.enableSeconds?ne:0)},I=()=>{const[z,Z]=E(l.value);return m.value.enabled?M([z.hours,Z.hours],[z.minutes,Z.minutes],[z.seconds,Z.seconds]):M(z.hours,z.minutes,z.seconds)};e.onMounted(()=>{if(!t.shadow)return V(a.value),l.value?I():C()});const Y=()=>{Array.isArray(l.value)?l.value=l.value.map((z,Z)=>z&&s(z,Z)):l.value=s(l.value),n("time-update")};return{modelValue:l,time:r,disabledTimesConfig:b,updateTime:(z,Z=!0,ne=!1)=>{f(z,Z,ne,Y)},validateTime:v}},ja=e.defineComponent({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...Ne},emits:["update:internal-model-value","time-update","am-pm-change","mount","reset-flow","update-flow-step","overlay-toggle"],setup(t,{expose:n,emit:l}){const r=l,a=t,m=e.useSlots(),f=$e(m,"timePicker"),s=e.ref(null),{time:$,modelValue:V,disabledTimesConfig:b,updateTime:v,validateTime:k}=Ua(a,r);return e.onMounted(()=>{a.shadow||r("mount",null)}),n({getSidebarProps:()=>({modelValue:V,time:$,updateTime:v}),toggleTimePicker:(C,E=!1,M="")=>{var I;(I=s.value)==null||I.toggleTimePicker(C,E,M)}}),(C,E)=>(e.openBlock(),e.createBlock(pt,{"multi-calendars":0,stretch:""},{default:e.withCtx(()=>[e.createVNode(Tn,e.mergeProps({ref_key:"tpRef",ref:s},C.$props,{hours:e.unref($).hours,minutes:e.unref($).minutes,seconds:e.unref($).seconds,"internal-model-value":C.internalModelValue,"disabled-times-config":e.unref(b),"validate-time":e.unref(k),"onUpdate:hours":E[0]||(E[0]=M=>e.unref(v)(M)),"onUpdate:minutes":E[1]||(E[1]=M=>e.unref(v)(M,!1)),"onUpdate:seconds":E[2]||(E[2]=M=>e.unref(v)(M,!1,!0)),onAmPmChange:E[3]||(E[3]=M=>C.$emit("am-pm-change",M)),onResetFlow:E[4]||(E[4]=M=>C.$emit("reset-flow")),onOverlayClosed:E[5]||(E[5]=M=>C.$emit("overlay-toggle",{open:!1,overlay:M})),onOverlayOpened:E[6]||(E[6]=M=>C.$emit("overlay-toggle",{open:!0,overlay:M}))}),e.createSlots({_:2},[e.renderList(e.unref(f),(M,I)=>({name:M,fn:e.withCtx(Y=>[e.renderSlot(C.$slots,M,e.normalizeProps(e.guardReactiveProps(Y)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3}))}}),xa={class:"dp--header-wrap"},Ka={key:0,class:"dp__month_year_wrap"},qa={key:0},Ga={class:"dp__month_year_wrap"},Qa=["aria-label","data-test","onClick","onKeydown"],Xa=e.defineComponent({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...Ne},emits:["update-month-year","mount","reset-flow","overlay-closed","overlay-opened"],setup(t,{expose:n,emit:l}){const r=l,a=t,{defaultedTransitions:m,defaultedAriaLabels:f,defaultedMultiCalendars:s,defaultedFilters:$,defaultedConfig:V,defaultedHighlight:b,propDates:v}=ge(a),{transitionName:k,showTransition:_}=rt(m),{buildMatrix:K}=Le(),{handleMonthYearChange:C,isDisabled:E,updateMonthYear:M}=pa(a,r),{showLeftIcon:I,showRightIcon:Y}=ht(),G=e.ref(!1),z=e.ref(!1),Z=e.ref([null,null,null,null]);e.onMounted(()=>{r("mount")});const ne=D=>({get:()=>a[D],set:S=>{const W=D===Pe.month?Pe.year:Pe.month;r("update-month-year",{[D]:S,[W]:a[W]}),D===Pe.month?L(!0):P(!0)}}),B=e.computed(ne(Pe.month)),j=e.computed(ne(Pe.year)),X=e.computed(()=>D=>({month:a.month,year:a.year,items:D===Pe.month?a.months:a.years,instance:a.instance,updateMonthYear:M,toggle:D===Pe.month?L:P})),ee=e.computed(()=>{const D=a.months.find(S=>S.value===a.month);return D||{text:"",value:0}}),N=e.computed(()=>Xe(a.months,D=>{const S=a.month===D.value,W=et(D.value,dn(a.year,v.value.minDate),fn(a.year,v.value.maxDate))||$.value.months.includes(D.value),u=kn(b.value,D.value,a.year);return{active:S,disabled:W,highlighted:u}})),H=e.computed(()=>Xe(a.years,D=>{const S=a.year===D.value,W=et(D.value,Je(v.value.minDate),Je(v.value.maxDate))||$.value.years.includes(D.value),u=Yt(b.value,D.value);return{active:S,disabled:W,highlighted:u}})),te=(D,S,W)=>{W!==void 0?D.value=W:D.value=!D.value,D.value?r("overlay-opened",S):r("overlay-closed",S)},L=(D=!1,S)=>{p(D),te(G,Me.month,S)},P=(D=!1,S)=>{p(D),te(z,Me.year,S)},p=D=>{D||r("reset-flow")},d=(D,S)=>{a.arrowNavigation&&(Z.value[S]=we(D),K(Z.value,"monthYear"))},Q=e.computed(()=>{var D,S;return[{type:Pe.month,index:1,toggle:L,modelValue:B.value,updateModelValue:W=>B.value=W,text:ee.value.text,showSelectionGrid:G.value,items:N.value,ariaLabel:(D=f.value)==null?void 0:D.openMonthsOverlay},{type:Pe.year,index:2,toggle:P,modelValue:j.value,updateModelValue:W=>j.value=W,text:un(a.year,a.locale),showSelectionGrid:z.value,items:H.value,ariaLabel:(S=f.value)==null?void 0:S.openYearsOverlay}]}),re=e.computed(()=>a.disableYearSelect?[Q.value[0]]:a.yearFirst?[...Q.value].reverse():Q.value);return n({toggleMonthPicker:L,toggleYearPicker:P,handleMonthYearChange:C}),(D,S)=>{var W,u,R;return e.openBlock(),e.createElementBlock("div",xa,[D.$slots["month-year"]?(e.openBlock(),e.createElementBlock("div",Ka,[e.renderSlot(D.$slots,"month-year",e.normalizeProps(e.guardReactiveProps({month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:e.unref(M),handleMonthYearChange:e.unref(C),instance:t.instance})))])):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[D.$slots["top-extra"]?(e.openBlock(),e.createElementBlock("div",qa,[e.renderSlot(D.$slots,"top-extra",{value:D.internalModelValue})])):e.createCommentVNode("",!0),e.createElementVNode("div",Ga,[e.unref(I)(e.unref(s),t.instance)&&!D.vertical?(e.openBlock(),e.createBlock(at,{key:0,"aria-label":(W=e.unref(f))==null?void 0:W.prevMonth,disabled:e.unref(E)(!1),onActivate:S[0]||(S[0]=T=>e.unref(C)(!1,!0)),onSetRef:S[1]||(S[1]=T=>d(T,0))},{default:e.withCtx(()=>[D.$slots["arrow-left"]?e.renderSlot(D.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),D.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(wt),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.createElementVNode("div",{class:e.normalizeClass(["dp__month_year_wrap",{dp__year_disable_select:D.disableYearSelect}])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(re.value,(T,oe)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:T.type},[e.createElementVNode("button",{ref_for:!0,ref:c=>d(c,oe+1),type:"button",class:"dp__btn dp__month_year_select",tabindex:"0","aria-label":T.ariaLabel,"data-test":`${T.type}-toggle-overlay-${t.instance}`,onClick:T.toggle,onKeydown:c=>e.unref(Be)(c,()=>T.toggle(),!0)},[D.$slots[T.type]?e.renderSlot(D.$slots,T.type,{key:0,text:T.text,value:a[T.type]}):e.createCommentVNode("",!0),D.$slots[T.type]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(T.text),1)],64))],40,Qa),e.createVNode(e.Transition,{name:e.unref(k)(T.showSelectionGrid),css:e.unref(_)},{default:e.withCtx(()=>[T.showSelectionGrid?(e.openBlock(),e.createBlock(nt,{key:0,items:T.items,"arrow-navigation":D.arrowNavigation,"hide-navigation":D.hideNavigation,"is-last":D.autoApply&&!e.unref(V).keepActionRow,"skip-button-ref":!1,config:D.config,type:T.type,"header-refs":[],"esc-close":D.escClose,"menu-wrap-ref":D.menuWrapRef,"text-input":D.textInput,"aria-labels":D.ariaLabels,onSelected:T.updateModelValue,onToggle:T.toggle},e.createSlots({"button-icon":e.withCtx(()=>[D.$slots["calendar-icon"]?e.renderSlot(D.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),D.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Qe),{key:1}))]),_:2},[D.$slots[`${T.type}-overlay-value`]?{name:"item",fn:e.withCtx(({item:c})=>[e.renderSlot(D.$slots,`${T.type}-overlay-value`,{text:c.text,value:c.value})]),key:"0"}:void 0,D.$slots[`${T.type}-overlay`]?{name:"overlay",fn:e.withCtx(()=>[e.renderSlot(D.$slots,`${T.type}-overlay`,e.mergeProps({ref_for:!0},X.value(T.type)))]),key:"1"}:void 0,D.$slots[`${T.type}-overlay-header`]?{name:"header",fn:e.withCtx(()=>[e.renderSlot(D.$slots,`${T.type}-overlay-header`,{toggle:T.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","menu-wrap-ref","text-input","aria-labels","onSelected","onToggle"])):e.createCommentVNode("",!0)]),_:2},1032,["name","css"])],64))),128))],2),e.unref(I)(e.unref(s),t.instance)&&D.vertical?(e.openBlock(),e.createBlock(at,{key:1,"aria-label":(u=e.unref(f))==null?void 0:u.prevMonth,disabled:e.unref(E)(!1),onActivate:S[2]||(S[2]=T=>e.unref(C)(!1,!0))},{default:e.withCtx(()=>[D.$slots["arrow-up"]?e.renderSlot(D.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),D.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Dt),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.unref(Y)(e.unref(s),t.instance)?(e.openBlock(),e.createBlock(at,{key:2,ref:"rightIcon",disabled:e.unref(E)(!0),"aria-label":(R=e.unref(f))==null?void 0:R.nextMonth,onActivate:S[3]||(S[3]=T=>e.unref(C)(!0,!0)),onSetRef:S[4]||(S[4]=T=>d(T,D.disableYearSelect?2:3))},{default:e.withCtx(()=>[D.$slots[D.vertical?"arrow-down":"arrow-right"]?e.renderSlot(D.$slots,D.vertical?"arrow-down":"arrow-right",{key:0}):e.createCommentVNode("",!0),D.$slots[D.vertical?"arrow-down":"arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(D.vertical?e.unref(St):e.unref(vt)),{key:1}))]),_:3},8,["disabled","aria-label"])):e.createCommentVNode("",!0)])],64))])}}}),Ja=["aria-label"],Za={class:"dp__calendar_header",role:"row"},Fa={key:0,class:"dp__calendar_header_item",role:"gridcell"},er=["aria-label"],tr=e.createElementVNode("div",{class:"dp__calendar_header_separator"},null,-1),nr=["aria-label"],ar={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},rr={class:"dp__cell_inner"},lr=["id","aria-selected","aria-disabled","aria-label","data-test","onClick","onKeydown","onMouseenter","onMouseleave","onMousedown"],or=e.defineComponent({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...Ne},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:n,emit:l}){const r=l,a=t,{buildMultiLevelMatrix:m}=Le(),{defaultedTransitions:f,defaultedConfig:s,defaultedAriaLabels:$,defaultedMultiCalendars:V,defaultedWeekNumbers:b,defaultedMultiDates:v}=ge(a),k=e.ref(null),_=e.ref({bottom:"",left:"",transform:""}),K=e.ref([]),C=e.ref(null),E=e.ref(!0),M=e.ref(""),I=e.ref({startX:0,endX:0,startY:0,endY:0}),Y=e.ref([]),G=e.ref({left:"50%"}),z=e.ref(!1),Z=e.computed(()=>a.calendar?a.calendar(a.mappedDates):a.mappedDates),ne=e.computed(()=>a.dayNames?Array.isArray(a.dayNames)?a.dayNames:a.dayNames(a.locale,+a.weekStart):Yn(a.formatLocale,a.locale,+a.weekStart));e.onMounted(()=>{r("mount",{cmp:"calendar",refs:K}),s.value.noSwipe||C.value&&(C.value.addEventListener("touchstart",d,{passive:!1}),C.value.addEventListener("touchend",Q,{passive:!1}),C.value.addEventListener("touchmove",re,{passive:!1})),a.monthChangeOnScroll&&C.value&&C.value.addEventListener("wheel",W,{passive:!1})});const B=w=>w?a.vertical?"vNext":"next":a.vertical?"vPrevious":"previous",j=(w,le)=>{if(a.transitions){const fe=Ce(Ye(x(),a.month,a.year));M.value=ye(Ce(Ye(x(),w,le)),fe)?f.value[B(!0)]:f.value[B(!1)],E.value=!1,e.nextTick(()=>{E.value=!0})}},X=e.computed(()=>({[a.calendarClassName]:!!a.calendarClassName})),ee=e.computed(()=>w=>{const le=In(w);return{dp__marker_dot:le.type==="dot",dp__marker_line:le.type==="line"}}),N=e.computed(()=>w=>ue(w,k.value)),H=e.computed(()=>({dp__calendar:!0,dp__calendar_next:V.value.count>0&&a.instance!==0})),te=e.computed(()=>w=>a.hideOffsetDates?w.current:!0),L=async(w,le,fe)=>{const i=we(K.value[le][fe]);if(i){const{width:O,height:J}=i.getBoundingClientRect();k.value=w.value;let A={left:`${O/2}px`},ae=-50;if(await e.nextTick(),Y.value[0]){const{left:y,width:q}=Y.value[0].getBoundingClientRect();y<0&&(A={left:"0"},ae=0,G.value.left=`${O/2}px`),window.innerWidth<y+q&&(A={right:"0"},ae=0,G.value.left=`${q-O/2}px`)}_.value={bottom:`${J}px`,...A,transform:`translateX(${ae}%)`},r("tooltip-open",w.marker)}},P=async(w,le,fe)=>{var i,O;if(z.value&&v.value.enabled&&v.value.dragSelect)return r("select-date",w);r("set-hover-date",w),(O=(i=w.marker)==null?void 0:i.tooltip)!=null&&O.length&&await L(w,le,fe)},p=w=>{k.value&&(k.value=null,_.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),r("tooltip-close",w.marker))},d=w=>{I.value.startX=w.changedTouches[0].screenX,I.value.startY=w.changedTouches[0].screenY},Q=w=>{I.value.endX=w.changedTouches[0].screenX,I.value.endY=w.changedTouches[0].screenY,D()},re=w=>{a.vertical&&!a.inline&&w.preventDefault()},D=()=>{const w=a.vertical?"Y":"X";Math.abs(I.value[`start${w}`]-I.value[`end${w}`])>10&&r("handle-swipe",I.value[`start${w}`]>I.value[`end${w}`]?"right":"left")},S=(w,le,fe)=>{w&&(Array.isArray(K.value[le])?K.value[le][fe]=w:K.value[le]=[w]),a.arrowNavigation&&m(K.value,"calendar")},W=w=>{a.monthChangeOnScroll&&(w.preventDefault(),r("handle-scroll",w))},u=w=>b.value.type==="local"?o.getWeek(w.value,{weekStartsOn:+a.weekStart}):b.value.type==="iso"?o.getISOWeek(w.value):typeof b.value.type=="function"?b.value.type(w.value):"",R=w=>{const le=w[0];return b.value.hideOnOffsetDates?w.some(fe=>fe.current)?u(le):"":u(le)},T=(w,le)=>{v.value.enabled||(Oe(w,s.value),r("select-date",le))},oe=w=>{Oe(w,s.value)},c=w=>{v.value.enabled&&v.value.dragSelect?(z.value=!0,r("select-date",w)):v.value.enabled&&r("select-date",w)};return n({triggerTransition:j}),(w,le)=>{var fe;return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(H.value)},[e.createElementVNode("div",{ref_key:"calendarWrapRef",ref:C,role:"grid",class:e.normalizeClass(X.value),"aria-label":(fe=e.unref($))==null?void 0:fe.calendarWrap},[e.createElementVNode("div",Za,[w.weekNumbers?(e.openBlock(),e.createElementBlock("div",Fa,e.toDisplayString(w.weekNumName),1)):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(ne.value,(i,O)=>{var J,A;return e.openBlock(),e.createElementBlock("div",{key:O,class:"dp__calendar_header_item",role:"gridcell","data-test":"calendar-header","aria-label":(A=(J=e.unref($))==null?void 0:J.weekDay)==null?void 0:A.call(J,O)},[w.$slots["calendar-header"]?e.renderSlot(w.$slots,"calendar-header",{key:0,day:i,index:O}):e.createCommentVNode("",!0),w.$slots["calendar-header"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(i),1)],64))],8,er)}),128))]),tr,e.createVNode(e.Transition,{name:M.value,css:!!w.transitions},{default:e.withCtx(()=>{var i;return[E.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__calendar",role:"rowgroup","aria-label":((i=e.unref($))==null?void 0:i.calendarDays)||void 0,onMouseleave:le[1]||(le[1]=O=>z.value=!1)},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(Z.value,(O,J)=>(e.openBlock(),e.createElementBlock("div",{key:J,class:"dp__calendar_row",role:"row"},[w.weekNumbers?(e.openBlock(),e.createElementBlock("div",ar,[e.createElementVNode("div",rr,e.toDisplayString(R(O.days)),1)])):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(O.days,(A,ae)=>{var y,q,ce;return e.openBlock(),e.createElementBlock("div",{id:e.unref(bn)(A.value),ref_for:!0,ref:ie=>S(ie,J,ae),key:ae+J,role:"gridcell",class:"dp__calendar_item","aria-selected":(A.classData.dp__active_date||A.classData.dp__range_start||A.classData.dp__range_start)??void 0,"aria-disabled":A.classData.dp__cell_disabled||void 0,"aria-label":(q=(y=e.unref($))==null?void 0:y.day)==null?void 0:q.call(y,A),tabindex:"0","data-test":A.value,onClick:e.withModifiers(ie=>T(ie,A),["prevent"]),onKeydown:ie=>e.unref(Be)(ie,()=>w.$emit("select-date",A)),onMouseenter:ie=>P(A,J,ae),onMouseleave:ie=>p(A),onMousedown:ie=>c(A),onMouseup:le[0]||(le[0]=ie=>z.value=!1)},[e.createElementVNode("div",{class:e.normalizeClass(["dp__cell_inner",A.classData])},[w.$slots.day&&te.value(A)?e.renderSlot(w.$slots,"day",{key:0,day:+A.text,date:A.value}):e.createCommentVNode("",!0),w.$slots.day?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(A.text),1)],64)),A.marker&&te.value(A)?(e.openBlock(),e.createElementBlock(e.Fragment,{key:2},[w.$slots.marker?e.renderSlot(w.$slots,"marker",{key:0,marker:A.marker,day:+A.text,date:A.value}):(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(ee.value(A.marker)),style:e.normalizeStyle(A.marker.color?{backgroundColor:A.marker.color}:{})},null,6))],64)):e.createCommentVNode("",!0),N.value(A.value)?(e.openBlock(),e.createElementBlock("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:Y,class:"dp__marker_tooltip",style:e.normalizeStyle(_.value)},[(ce=A.marker)!=null&&ce.tooltip?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__tooltip_content",onClick:oe},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(A.marker.tooltip,(ie,Te)=>(e.openBlock(),e.createElementBlock("div",{key:Te,class:"dp__tooltip_text"},[w.$slots["marker-tooltip"]?e.renderSlot(w.$slots,"marker-tooltip",{key:0,tooltip:ie,day:A.value}):e.createCommentVNode("",!0),w.$slots["marker-tooltip"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",{class:"dp__tooltip_mark",style:e.normalizeStyle(ie.color?{backgroundColor:ie.color}:{})},null,4),e.createElementVNode("div",null,e.toDisplayString(ie.text),1)],64))]))),128)),e.createElementVNode("div",{class:"dp__arrow_bottom_tp",style:e.normalizeStyle(G.value)},null,4)])):e.createCommentVNode("",!0)],4)):e.createCommentVNode("",!0)],2)],40,lr)}),128))]))),128))],40,nr)):e.createCommentVNode("",!0)]}),_:3},8,["name","css"])],10,Ja)],2)}}}),An=t=>Array.isArray(t),sr=(t,n,l,r)=>{const a=e.ref([]),m=e.ref(new Date),f=e.ref(),{modelValue:s,calendars:$,time:V,today:b}=lt(t,n),{defaultedMultiCalendars:v,defaultedStartTime:k,defaultedRange:_,defaultedConfig:K,defaultedTz:C,propDates:E,defaultedMultiDates:M}=ge(t),{validateMonthYearInRange:I,isDisabled:Y,isDateRangeAllowed:G,checkMinMaxRange:z}=We(t),{updateTimeValues:Z,getSetDateTime:ne,setTime:B,assignStartTime:j,validateTime:X,disabledTimesConfig:ee}=$n(t,V,s,r),N=e.computed(()=>h=>$.value[h]?$.value[h].month:0),H=e.computed(()=>h=>$.value[h]?$.value[h].year:0),te=h=>!K.value.keepViewOnOffsetClick||h?!0:!f.value,L=(h,g,U,F=!1)=>{var de,ve;te(F)&&($.value[h]||($.value[h]={month:0,year:0}),$.value[h].month=on(g)?(de=$.value[h])==null?void 0:de.month:g,$.value[h].year=on(U)?(ve=$.value[h])==null?void 0:ve.year:U)},P=()=>{t.autoApply&&n("select-date")};e.watch(s,(h,g)=>{JSON.stringify(h)!==JSON.stringify(g)&&Q()},{deep:!0}),e.onMounted(()=>{t.shadow||(s.value||(le(),k.value&&j(k.value)),Q(!0),t.focusStartDate&&t.startDate&&le())});const p=e.computed(()=>{var h;return(h=t.flow)!=null&&h.length&&!t.partialFlow?t.flowStep===t.flow.length:!0}),d=()=>{t.autoApply&&p.value&&n("auto-apply")},Q=(h=!1)=>{if(s.value)return Array.isArray(s.value)?(a.value=s.value,T(h)):S(s.value,h);if(v.value.count&&h&&!t.startDate)return D(x(),h)},re=()=>Array.isArray(s.value)&&_.value.enabled?o.getMonth(s.value[0])===o.getMonth(s.value[1]??s.value[0]):!1,D=(h,g=!1)=>{if((!v.value.count||!v.value.static||g)&&L(0,o.getMonth(h),o.getYear(h)),v.value.count&&(!v.value.solo||!s.value||re()))for(let U=1;U<v.value.count;U++){const F=o.set(x(),{month:N.value(U-1),year:H.value(U-1)}),de=o.add(F,{months:1});$.value[U]={month:o.getMonth(de),year:o.getYear(de)}}},S=(h,g)=>{D(h),B("hours",o.getHours(h)),B("minutes",o.getMinutes(h)),B("seconds",o.getSeconds(h)),v.value.count&&g&&w()},W=h=>{if(v.value.count){if(v.value.solo)return 0;const g=o.getMonth(h[0]),U=o.getMonth(h[1]);return Math.abs(U-g)<v.value.count?0:1}return 1},u=(h,g)=>{h[1]&&_.value.showLastInRange?D(h[W(h)],g):D(h[0],g);const U=(F,de)=>[F(h[0]),h[1]?F(h[1]):V[de][1]];B("hours",U(o.getHours,"hours")),B("minutes",U(o.getMinutes,"minutes")),B("seconds",U(o.getSeconds,"seconds"))},R=(h,g)=>{if((_.value.enabled||t.weekPicker)&&!M.value.enabled)return u(h,g);if(M.value.enabled&&g){const U=h[h.length-1];return S(U,g)}},T=h=>{const g=s.value;R(g,h),v.value.count&&v.value.solo&&w()},oe=(h,g)=>{const U=o.set(x(),{month:N.value(g),year:H.value(g)}),F=h<0?o.addMonths(U,1):o.subMonths(U,1);I(o.getMonth(F),o.getYear(F),h<0,t.preventMinMaxNavigation)&&(L(g,o.getMonth(F),o.getYear(F)),n("update-month-year",{instance:g,month:o.getMonth(F),year:o.getYear(F)}),v.value.count&&!v.value.solo&&c(g),l())},c=h=>{for(let g=h-1;g>=0;g--){const U=o.subMonths(o.set(x(),{month:N.value(g+1),year:H.value(g+1)}),1);L(g,o.getMonth(U),o.getYear(U))}for(let g=h+1;g<=v.value.count-1;g++){const U=o.addMonths(o.set(x(),{month:N.value(g-1),year:H.value(g-1)}),1);L(g,o.getMonth(U),o.getYear(U))}},w=()=>{if(Array.isArray(s.value)&&s.value.length===2){const h=x(x(s.value[1]?s.value[1]:o.addMonths(s.value[0],1))),[g,U]=[o.getMonth(s.value[0]),o.getYear(s.value[0])],[F,de]=[o.getMonth(s.value[1]),o.getYear(s.value[1])];(g!==F||g===F&&U!==de)&&v.value.solo&&L(1,o.getMonth(h),o.getYear(h))}else s.value&&!Array.isArray(s.value)&&(L(0,o.getMonth(s.value),o.getYear(s.value)),D(x()))},le=()=>{t.startDate&&(L(0,o.getMonth(x(t.startDate)),o.getYear(x(t.startDate))),v.value.count&&c(0))},fe=(h,g)=>{if(t.monthChangeOnScroll){const U=new Date().getTime()-m.value.getTime(),F=Math.abs(h.deltaY);let de=500;F>1&&(de=100),F>100&&(de=0),U>de&&(m.value=new Date,oe(t.monthChangeOnScroll!=="inverse"?-h.deltaY:h.deltaY,g))}},i=(h,g,U=!1)=>{t.monthChangeOnArrows&&t.vertical===U&&O(h,g)},O=(h,g)=>{oe(h==="right"?-1:1,g)},J=h=>{if(E.value.markers)return ut(h.value,E.value.markers)},A=(h,g)=>{switch(t.sixWeeks===!0?"append":t.sixWeeks){case"prepend":return[!0,!1];case"center":return[h==0,!0];case"fair":return[h==0||g>h,!0];case"append":return[!1,!1];default:return[!1,!1]}},ae=(h,g,U,F)=>{if(t.sixWeeks&&h.length<6){const de=6-h.length,ve=(g.getDay()+7-F)%7,kt=6-(U.getDay()+7-F)%7,[it,Ft]=A(ve,kt);for(let Ge=1;Ge<=de;Ge++)if(Ft?!!(Ge%2)==it:it){const bt=h[0].days[0],en=y(o.addDays(bt.value,-7),o.getMonth(g));h.unshift({days:en})}else{const bt=h[h.length-1],en=bt.days[bt.days.length-1],Vr=y(o.addDays(en.value,1),o.getMonth(g));h.push({days:Vr})}}return h},y=(h,g)=>{const U=x(h),F=[];for(let de=0;de<7;de++){const ve=o.addDays(U,de),qe=o.getMonth(ve)!==g;F.push({text:t.hideOffsetDates&&qe?"":ve.getDate(),value:ve,current:!qe,classData:{}})}return F},q=(h,g)=>{const U=[],F=new Date(g,h),de=new Date(g,h+1,0),ve=t.weekStart,qe=o.startOfWeek(F,{weekStartsOn:ve}),kt=it=>{const Ft=y(it,h);if(U.push({days:Ft}),!U[U.length-1].days.some(Ge=>ue(Ce(Ge.value),Ce(de)))){const Ge=o.addDays(it,7);kt(Ge)}};return kt(qe),ae(U,F,de,ve)},ce=h=>{const g=Ie(x(h.value),V.hours,V.minutes,Ae());n("date-update",g),M.value.enabled?Wt(g,s,M.value.limit):s.value=g,r(),e.nextTick().then(()=>{d()})},ie=h=>_.value.noDisabledRange?mn(a.value[0],h).some(U=>Y(U)):!1,Te=()=>{a.value=s.value?s.value.slice():[],a.value.length===2&&!(_.value.fixedStart||_.value.fixedEnd)&&(a.value=[])},se=(h,g)=>{const U=[x(h.value),o.addDays(x(h.value),+_.value.autoRange)];G(U)?(g&&Ue(h.value),a.value=U):n("invalid-date",h.value)},Ue=h=>{const g=o.getMonth(x(h)),U=o.getYear(x(h));if(L(0,g,U),v.value.count>0)for(let F=1;F<v.value.count;F++){const de=Kn(o.set(x(h),{year:N.value(F-1),month:H.value(F-1)}));L(F,de.month,de.year)}},_e=h=>{if(ie(h.value)||!z(h.value,s.value,_.value.fixedStart?0:1))return n("invalid-date",h.value);a.value=Cn(x(h.value),s,n,_)},ot=(h,g)=>{if(Te(),_.value.autoRange)return se(h,g);if(_.value.fixedStart||_.value.fixedEnd)return _e(h);a.value[0]?z(x(h.value),s.value)&&!ie(h.value)?he(x(h.value),x(a.value[0]))?(a.value.unshift(x(h.value)),n("range-end",a.value[0])):(a.value[1]=x(h.value),n("range-end",a.value[1])):(t.autoApply&&n("auto-apply-invalid",h.value),n("invalid-date",h.value)):(a.value[0]=x(h.value),n("range-start",a.value[0]))},Ae=(h=!0)=>t.enableSeconds?Array.isArray(V.seconds)?h?V.seconds[0]:V.seconds[1]:V.seconds:0,st=h=>{a.value[h]=Ie(a.value[h],V.hours[h],V.minutes[h],Ae(h!==1))},Kt=()=>{var h,g;a.value[0]&&a.value[1]&&+((h=a.value)==null?void 0:h[0])>+((g=a.value)==null?void 0:g[1])&&(a.value.reverse(),n("range-start",a.value[0]),n("range-end",a.value[1]))},yt=()=>{a.value.length&&(a.value[0]&&!a.value[1]?st(0):(st(0),st(1),r()),Kt(),s.value=a.value.slice(),gt(a.value,n,t.autoApply,t.modelAuto))},qt=(h,g=!1)=>{if(Y(h.value)||!h.current&&t.hideOffsetDates)return n("invalid-date",h.value);if(f.value=JSON.parse(JSON.stringify(h)),!_.value.enabled)return ce(h);An(V.hours)&&An(V.minutes)&&!M.value.enabled&&(ot(h,g),yt())},Gt=(h,g)=>{var F;L(h,g.month,g.year,!0),v.value.count&&!v.value.solo&&c(h),n("update-month-year",{instance:h,month:g.month,year:g.year}),l(v.value.solo?h:void 0);const U=(F=t.flow)!=null&&F.length?t.flow[t.flowStep]:void 0;!g.fromNav&&(U===Me.month||U===Me.year)&&r()},Qt=(h,g)=>{Sn({value:h,modelValue:s,range:_.value.enabled,timezone:g?void 0:C.value.timezone}),P(),t.multiCalendars&&e.nextTick().then(()=>Q(!0))},Xt=()=>{const h=Ct(x(),C.value);_.value.enabled?s.value&&Array.isArray(s.value)&&s.value[0]?s.value=he(h,s.value[0])?[h,s.value[0]]:[s.value[0],h]:s.value=[h]:s.value=h,P()},Jt=()=>{if(Array.isArray(s.value))if(M.value.enabled){const h=Zt();s.value[s.value.length-1]=ne(h)}else s.value=s.value.map((h,g)=>h&&ne(h,g));else s.value=ne(s.value);n("time-update")},Zt=()=>Array.isArray(s.value)&&s.value.length?s.value[s.value.length-1]:null;return{calendars:$,modelValue:s,month:N,year:H,time:V,disabledTimesConfig:ee,today:b,validateTime:X,getCalendarDays:q,getMarker:J,handleScroll:fe,handleSwipe:O,handleArrow:i,selectDate:qt,updateMonthYear:Gt,presetDate:Qt,selectCurrentDate:Xt,updateTime:(h,g=!0,U=!1)=>{Z(h,g,U,Jt)}}},ir={key:0},ur=e.defineComponent({__name:"DatePicker",props:{...Ne},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date","overlay-toggle"],setup(t,{expose:n,emit:l}){const r=l,a=t,{calendars:m,month:f,year:s,modelValue:$,time:V,disabledTimesConfig:b,today:v,validateTime:k,getCalendarDays:_,getMarker:K,handleArrow:C,handleScroll:E,handleSwipe:M,selectDate:I,updateMonthYear:Y,presetDate:G,selectCurrentDate:z,updateTime:Z}=sr(a,r,re,D),ne=e.useSlots(),{setHoverDate:B,getDayClassData:j,clearHoverDate:X}=Sr($,a),{defaultedMultiCalendars:ee}=ge(a),N=e.ref([]),H=e.ref([]),te=e.ref(null),L=$e(ne,"calendar"),P=$e(ne,"monthYear"),p=$e(ne,"timePicker"),d=i=>{a.shadow||r("mount",i)};e.watch(m,()=>{a.shadow||setTimeout(()=>{r("recalculate-position")},0)},{deep:!0});const Q=e.computed(()=>i=>_(f.value(i),s.value(i)).map(O=>({...O,days:O.days.map(J=>(J.marker=K(J),J.classData=j(J),J))})));function re(i){var O;i||i===0?(O=H.value[i])==null||O.triggerTransition(f.value(i),s.value(i)):H.value.forEach((J,A)=>J.triggerTransition(f.value(A),s.value(A)))}function D(){r("update-flow-step")}const S=(i,O=!1)=>{I(i,O),a.spaceConfirm&&r("select-date")},W=(i,O,J=0)=>{var A;(A=N.value[J])==null||A.toggleMonthPicker(i,O)},u=(i,O,J=0)=>{var A;(A=N.value[J])==null||A.toggleYearPicker(i,O)},R=(i,O,J)=>{var A;(A=te.value)==null||A.toggleTimePicker(i,O,J)},T=(i,O)=>{var J;if(!a.range){const A=$.value?$.value:v,ae=O?new Date(O):A,y=i?o.startOfWeek(ae,{weekStartsOn:1}):o.endOfWeek(ae,{weekStartsOn:1});I({value:y,current:o.getMonth(ae)===f.value(0),text:"",classData:{}}),(J=document.getElementById(bn(y)))==null||J.focus()}},oe=i=>{var O;(O=N.value[0])==null||O.handleMonthYearChange(i,!0)},c=i=>{Y(0,{month:f.value(0),year:s.value(0)+(i?1:-1),fromNav:!0})},w=(i,O)=>{i===Me.time&&r(`time-picker-${O?"open":"close"}`),r("overlay-toggle",{open:O,overlay:i})},le=i=>{r("overlay-toggle",{open:!1,overlay:i}),r("focus-menu")};return n({clearHoverDate:X,presetDate:G,selectCurrentDate:z,toggleMonthPicker:W,toggleYearPicker:u,toggleTimePicker:R,handleArrow:C,updateMonthYear:Y,getSidebarProps:()=>({modelValue:$,month:f,year:s,time:V,updateTime:Z,updateMonthYear:Y,selectDate:I,presetDate:G}),changeMonth:oe,changeYear:c,selectWeekDate:T}),(i,O)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createVNode(pt,{"multi-calendars":e.unref(ee).count,collapse:i.collapse},{default:e.withCtx(({instance:J,index:A})=>[i.disableMonthYearSelect?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(Xa,e.mergeProps({key:0,ref:ae=>{ae&&(N.value[A]=ae)},months:e.unref(an)(i.formatLocale,i.locale,i.monthNameFormat),years:e.unref(Tt)(i.yearRange,i.locale,i.reverseYears),month:e.unref(f)(J),year:e.unref(s)(J),instance:J},i.$props,{onMount:O[0]||(O[0]=ae=>d(e.unref(xe).header)),onResetFlow:O[1]||(O[1]=ae=>i.$emit("reset-flow")),onUpdateMonthYear:ae=>e.unref(Y)(J,ae),onOverlayClosed:le,onOverlayOpened:O[2]||(O[2]=ae=>i.$emit("overlay-toggle",{open:!0,overlay:ae}))}),e.createSlots({_:2},[e.renderList(e.unref(P),(ae,y)=>({name:ae,fn:e.withCtx(q=>[e.renderSlot(i.$slots,ae,e.normalizeProps(e.guardReactiveProps(q)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),e.createVNode(or,e.mergeProps({ref:ae=>{ae&&(H.value[A]=ae)},"mapped-dates":Q.value(J),month:e.unref(f)(J),year:e.unref(s)(J),instance:J},i.$props,{onSelectDate:ae=>e.unref(I)(ae,J!==1),onHandleSpace:ae=>S(ae,J!==1),onSetHoverDate:O[3]||(O[3]=ae=>e.unref(B)(ae)),onHandleScroll:ae=>e.unref(E)(ae,J),onHandleSwipe:ae=>e.unref(M)(ae,J),onMount:O[4]||(O[4]=ae=>d(e.unref(xe).calendar)),onResetFlow:O[5]||(O[5]=ae=>i.$emit("reset-flow")),onTooltipOpen:O[6]||(O[6]=ae=>i.$emit("tooltip-open",ae)),onTooltipClose:O[7]||(O[7]=ae=>i.$emit("tooltip-close",ae))}),e.createSlots({_:2},[e.renderList(e.unref(L),(ae,y)=>({name:ae,fn:e.withCtx(q=>[e.renderSlot(i.$slots,ae,e.normalizeProps(e.guardReactiveProps({...q})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars","collapse"]),i.enableTimePicker?(e.openBlock(),e.createElementBlock("div",ir,[i.$slots["time-picker"]?e.renderSlot(i.$slots,"time-picker",e.normalizeProps(e.mergeProps({key:0},{time:e.unref(V),updateTime:e.unref(Z)}))):(e.openBlock(),e.createBlock(Tn,e.mergeProps({key:1,ref_key:"timePickerRef",ref:te},i.$props,{hours:e.unref(V).hours,minutes:e.unref(V).minutes,seconds:e.unref(V).seconds,"internal-model-value":i.internalModelValue,"disabled-times-config":e.unref(b),"validate-time":e.unref(k),onMount:O[8]||(O[8]=J=>d(e.unref(xe).timePicker)),"onUpdate:hours":O[9]||(O[9]=J=>e.unref(Z)(J)),"onUpdate:minutes":O[10]||(O[10]=J=>e.unref(Z)(J,!1)),"onUpdate:seconds":O[11]||(O[11]=J=>e.unref(Z)(J,!1,!0)),onResetFlow:O[12]||(O[12]=J=>i.$emit("reset-flow")),onOverlayClosed:O[13]||(O[13]=J=>w(J,!1)),onOverlayOpened:O[14]||(O[14]=J=>w(J,!0)),onAmPmChange:O[15]||(O[15]=J=>i.$emit("am-pm-change",J))}),e.createSlots({_:2},[e.renderList(e.unref(p),(J,A)=>({name:J,fn:e.withCtx(ae=>[e.renderSlot(i.$slots,J,e.normalizeProps(e.guardReactiveProps(ae)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):e.createCommentVNode("",!0)],64))}}),cr=(t,n)=>{const l=e.ref(),{defaultedMultiCalendars:r,defaultedConfig:a,defaultedHighlight:m,defaultedRange:f,propDates:s,defaultedFilters:$,defaultedMultiDates:V}=ge(t),{modelValue:b,year:v,month:k,calendars:_}=lt(t,n),{isDisabled:K}=We(t),{selectYear:C,groupedYears:E,showYearPicker:M,isDisabled:I,toggleYearPicker:Y,handleYearSelect:G,handleYear:z}=Bn({modelValue:b,multiCalendars:r,range:f,highlight:m,calendars:_,propDates:s,month:k,year:v,filters:$,props:t,emit:n}),Z=(p,d)=>[p,d].map(Q=>o.format(Q,"MMMM",{locale:t.formatLocale})).join("-"),ne=e.computed(()=>p=>b.value?Array.isArray(b.value)?b.value.some(d=>o.isSameQuarter(p,d)):o.isSameQuarter(b.value,p):!1),B=p=>{if(f.value.enabled){if(Array.isArray(b.value)){const d=ue(p,b.value[0])||ue(p,b.value[1]);return ct(b.value,l.value,p)&&!d}return!1}return!1},j=(p,d)=>p.quarter===o.getQuarter(d)&&p.year===o.getYear(d),X=p=>typeof m.value=="function"?m.value({quarter:o.getQuarter(p),year:o.getYear(p)}):!!m.value.quarters.find(d=>j(d,p)),ee=e.computed(()=>p=>{const d=o.set(new Date,{year:v.value(p)});return o.eachQuarterOfInterval({start:o.startOfYear(d),end:o.endOfYear(d)}).map(Q=>{const re=o.startOfQuarter(Q),D=o.endOfQuarter(Q),S=K(Q),W=B(re),u=X(re);return{text:Z(re,D),value:re,active:ne.value(re),highlighted:u,disabled:S,isBetween:W}})}),N=p=>{Wt(p,b,V.value.limit),n("auto-apply",!0)},H=p=>{b.value=Ut(b,p,n),gt(b.value,n,t.autoApply,t.modelAuto)},te=p=>{b.value=p,n("auto-apply")};return{defaultedConfig:a,defaultedMultiCalendars:r,groupedYears:E,year:v,isDisabled:I,quarters:ee,showYearPicker:M,modelValue:b,setHoverDate:p=>{l.value=p},selectYear:C,selectQuarter:(p,d,Q)=>{if(!Q)return _.value[d].month=o.getMonth(o.endOfQuarter(p)),V.value.enabled?N(p):f.value.enabled?H(p):te(p)},toggleYearPicker:Y,handleYearSelect:G,handleYear:z}},dr={class:"dp--quarter-items"},fr=["data-test","disabled","onClick","onMouseover"],mr=e.defineComponent({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...Ne},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end","overlay-toggle","update-month-year"],setup(t,{expose:n,emit:l}){const r=l,a=t,m=e.useSlots(),f=$e(m,"yearMode"),{defaultedMultiCalendars:s,defaultedConfig:$,groupedYears:V,year:b,isDisabled:v,quarters:k,modelValue:_,showYearPicker:K,setHoverDate:C,selectQuarter:E,toggleYearPicker:M,handleYearSelect:I,handleYear:Y}=cr(a,r);return n({getSidebarProps:()=>({modelValue:_,year:b,selectQuarter:E,handleYearSelect:I,handleYear:Y})}),(z,Z)=>(e.openBlock(),e.createBlock(pt,{"multi-calendars":e.unref(s).count,collapse:z.collapse,stretch:""},{default:e.withCtx(({instance:ne})=>[e.createElementVNode("div",{class:"dp-quarter-picker-wrap",style:e.normalizeStyle({minHeight:`${e.unref($).modeHeight}px`})},[z.$slots["top-extra"]?e.renderSlot(z.$slots,"top-extra",{key:0,value:z.internalModelValue}):e.createCommentVNode("",!0),e.createElementVNode("div",null,[e.createVNode(Dn,e.mergeProps(z.$props,{items:e.unref(V)(ne),instance:ne,"show-year-picker":e.unref(K)[ne],year:e.unref(b)(ne),"is-disabled":B=>e.unref(v)(ne,B),onHandleYear:B=>e.unref(Y)(ne,B),onYearSelect:B=>e.unref(I)(B,ne),onToggleYearPicker:B=>e.unref(M)(ne,B==null?void 0:B.flow,B==null?void 0:B.show)}),e.createSlots({_:2},[e.renderList(e.unref(f),(B,j)=>({name:B,fn:e.withCtx(X=>[e.renderSlot(z.$slots,B,e.normalizeProps(e.guardReactiveProps(X)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),e.createElementVNode("div",dr,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(k)(ne),(B,j)=>(e.openBlock(),e.createElementBlock("div",{key:j},[e.createElementVNode("button",{type:"button",class:e.normalizeClass(["dp--qr-btn",{"dp--qr-btn-active":B.active,"dp--qr-btn-between":B.isBetween,"dp--qr-btn-disabled":B.disabled,"dp--highlighted":B.highlighted}]),"data-test":B.value,disabled:B.disabled,onClick:X=>e.unref(E)(B.value,ne,B.disabled),onMouseover:X=>e.unref(C)(B.value)},[z.$slots.quarter?e.renderSlot(z.$slots,"quarter",{key:0,value:B.value,text:B.text}):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(B.text),1)],64))],42,fr)]))),128))])],4)]),_:3},8,["multi-calendars","collapse"]))}}),pr=["id","aria-label"],gr={key:0,class:"dp--menu-load-container"},hr=[e.createElementVNode("span",{class:"dp--menu-loader"},null,-1)],yr={key:0,class:"dp__sidebar_left"},kr=["data-test","onClick","onKeydown"],br={key:2,class:"dp__sidebar_right"},wr={key:3,class:"dp__action_extra"},Pn=e.defineComponent({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...mt,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},getInputRect:{type:Function,default:()=>({})}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date","overlay-toggle"],setup(t,{expose:n,emit:l}){const r=l,a=t,m=e.ref(null),f=e.computed(()=>{const{openOnTop:y,...q}=a;return{...q,flowStep:B.value,collapse:a.collapse,noOverlayFocus:a.noOverlayFocus,menuWrapRef:m.value}}),{setMenuFocused:s,setShiftKey:$,control:V}=wn(),b=e.useSlots(),{defaultedTextInput:v,defaultedInline:k,defaultedConfig:_}=ge(a),K=e.ref(null),C=e.ref(0),E=e.ref(null),M=e.ref(!1),I=e.ref(null);e.onMounted(()=>{if(!a.shadow){M.value=!0,Y(),window.addEventListener("resize",Y);const y=we(m);if(y&&!v.value.enabled&&!k.value.enabled&&(s(!0),L()),y){const q=ce=>{_.value.allowPreventDefault&&ce.preventDefault(),Oe(ce,_.value,!0)};y.addEventListener("pointerdown",q),y.addEventListener("mousedown",q)}}}),e.onUnmounted(()=>{window.removeEventListener("resize",Y)});const Y=()=>{const y=we(E);y&&(C.value=y.getBoundingClientRect().width)},{arrowRight:G,arrowLeft:z,arrowDown:Z,arrowUp:ne}=Le(),{flowStep:B,updateFlowStep:j,childMount:X,resetFlow:ee,handleFlow:N}=Cr(a,r,I),H=e.computed(()=>a.monthPicker?Ca:a.yearPicker?Ta:a.timePicker?ja:a.quarterPicker?mr:ur),te=e.computed(()=>{var ce;if(_.value.arrowLeft)return _.value.arrowLeft;const y=(ce=m.value)==null?void 0:ce.getBoundingClientRect(),q=a.getInputRect();return q.width<C.value&&q.left<=((y==null?void 0:y.left)??0)?`${q.width/2}px`:"50%"}),L=()=>{const y=we(m);y&&y.focus({preventScroll:!0})},P=e.computed(()=>{var y;return((y=I.value)==null?void 0:y.getSidebarProps())||{}}),p=()=>{a.openOnTop&&r("recalculate-position")},d=$e(b,"action"),Q=e.computed(()=>a.monthPicker||a.yearPicker?$e(b,"monthYear"):a.timePicker?$e(b,"timePicker"):$e(b,"shared")),re=e.computed(()=>a.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),D=e.computed(()=>({dp__menu_disabled:a.disabled,dp__menu_readonly:a.readonly,"dp-menu-loading":a.loading})),S=e.computed(()=>({dp__menu:!0,dp__menu_index:!k.value.enabled,dp__relative:k.value.enabled,[a.menuClassName]:!!a.menuClassName})),W=y=>{Oe(y,_.value,!0)},u=()=>{a.escClose&&r("close-picker")},R=y=>{if(a.arrowNavigation){if(y===Se.up)return ne();if(y===Se.down)return Z();if(y===Se.left)return z();if(y===Se.right)return G()}else y===Se.left||y===Se.up?le("handleArrow",Se.left,0,y===Se.up):le("handleArrow",Se.right,0,y===Se.down)},T=y=>{$(y.shiftKey),!a.disableMonthYearSelect&&y.code===pe.tab&&y.target.classList.contains("dp__menu")&&V.value.shiftKeyInMenu&&(y.preventDefault(),Oe(y,_.value,!0),r("close-picker"))},oe=()=>{L(),r("time-picker-close")},c=y=>{var q,ce,ie;(q=I.value)==null||q.toggleTimePicker(!1,!1),(ce=I.value)==null||ce.toggleMonthPicker(!1,!1,y),(ie=I.value)==null||ie.toggleYearPicker(!1,!1,y)},w=(y,q=0)=>{var ce,ie,Te;return y==="month"?(ce=I.value)==null?void 0:ce.toggleMonthPicker(!1,!0,q):y==="year"?(ie=I.value)==null?void 0:ie.toggleYearPicker(!1,!0,q):y==="time"?(Te=I.value)==null?void 0:Te.toggleTimePicker(!0,!1):c(q)},le=(y,...q)=>{var ce,ie;(ce=I.value)!=null&&ce[y]&&((ie=I.value)==null||ie[y](...q))},fe=()=>{le("selectCurrentDate")},i=(y,q)=>{le("presetDate",y,q)},O=()=>{le("clearHoverDate")},J=(y,q)=>{le("updateMonthYear",y,q)},A=(y,q)=>{y.preventDefault(),R(q)},ae=y=>{var q;if(T(y),y.key===pe.home||y.key===pe.end)return le("selectWeekDate",y.key===pe.home,y.target.getAttribute("id"));switch((y.key===pe.pageUp||y.key===pe.pageDown)&&(y.shiftKey?le("changeYear",y.key===pe.pageUp):le("changeMonth",y.key===pe.pageUp),y.target.getAttribute("id")&&((q=m.value)==null||q.focus({preventScroll:!0}))),y.key){case pe.esc:return u();case pe.arrowLeft:return A(y,Se.left);case pe.arrowRight:return A(y,Se.right);case pe.arrowUp:return A(y,Se.up);case pe.arrowDown:return A(y,Se.down);default:return}};return n({updateMonthYear:J,switchView:w,handleFlow:N}),(y,q)=>{var ce,ie,Te;return e.openBlock(),e.createElementBlock("div",{id:y.uid?`dp-menu-${y.uid}`:void 0,ref_key:"dpMenuRef",ref:m,tabindex:"0",role:"dialog","aria-label":(ce=y.ariaLabels)==null?void 0:ce.menu,class:e.normalizeClass(S.value),style:e.normalizeStyle({"--dp-arrow-left":te.value}),onMouseleave:O,onClick:W,onKeydown:ae},[(y.disabled||y.readonly)&&e.unref(k).enabled||y.loading?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(D.value)},[y.loading?(e.openBlock(),e.createElementBlock("div",gr,hr)):e.createCommentVNode("",!0)],2)):e.createCommentVNode("",!0),!e.unref(k).enabled&&!y.teleportCenter?(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(re.value)},null,2)):e.createCommentVNode("",!0),e.createElementVNode("div",{ref_key:"innerMenuRef",ref:E,class:e.normalizeClass({dp__menu_content_wrapper:((ie=y.presetDates)==null?void 0:ie.length)||!!y.$slots["left-sidebar"]||!!y.$slots["right-sidebar"],"dp--menu-content-wrapper-collapsed":t.collapse&&(((Te=y.presetDates)==null?void 0:Te.length)||!!y.$slots["left-sidebar"]||!!y.$slots["right-sidebar"])}),style:e.normalizeStyle({"--dp-menu-width":`${C.value}px`})},[y.$slots["left-sidebar"]?(e.openBlock(),e.createElementBlock("div",yr,[e.renderSlot(y.$slots,"left-sidebar",e.normalizeProps(e.guardReactiveProps(P.value)))])):e.createCommentVNode("",!0),y.presetDates.length?(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass({"dp--preset-dates-collapsed":t.collapse,"dp--preset-dates":!0})},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(y.presetDates,(se,Ue)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:Ue},[se.slot?e.renderSlot(y.$slots,se.slot,{key:0,presetDate:i,label:se.label,value:se.value}):(e.openBlock(),e.createElementBlock("button",{key:1,type:"button",style:e.normalizeStyle(se.style||{}),class:e.normalizeClass(["dp__btn dp--preset-range",{"dp--preset-range-collapsed":t.collapse}]),"data-test":se.testId??void 0,onClick:e.withModifiers(_e=>i(se.value,se.noTz),["prevent"]),onKeydown:_e=>e.unref(Be)(_e,()=>i(se.value,se.noTz),!0)},e.toDisplayString(se.label),47,kr))],64))),128))],2)):e.createCommentVNode("",!0),e.createElementVNode("div",{ref_key:"calendarWrapperRef",ref:K,class:"dp__instance_calendar",role:"document"},[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(H.value),e.mergeProps({ref_key:"dynCmpRef",ref:I},f.value,{"flow-step":e.unref(B),onMount:e.unref(X),onUpdateFlowStep:e.unref(j),onResetFlow:e.unref(ee),onFocusMenu:L,onSelectDate:q[0]||(q[0]=se=>y.$emit("select-date")),onDateUpdate:q[1]||(q[1]=se=>y.$emit("date-update",se)),onTooltipOpen:q[2]||(q[2]=se=>y.$emit("tooltip-open",se)),onTooltipClose:q[3]||(q[3]=se=>y.$emit("tooltip-close",se)),onAutoApply:q[4]||(q[4]=se=>y.$emit("auto-apply",se)),onRangeStart:q[5]||(q[5]=se=>y.$emit("range-start",se)),onRangeEnd:q[6]||(q[6]=se=>y.$emit("range-end",se)),onInvalidFixedRange:q[7]||(q[7]=se=>y.$emit("invalid-fixed-range",se)),onTimeUpdate:q[8]||(q[8]=se=>y.$emit("time-update")),onAmPmChange:q[9]||(q[9]=se=>y.$emit("am-pm-change",se)),onTimePickerOpen:q[10]||(q[10]=se=>y.$emit("time-picker-open",se)),onTimePickerClose:oe,onRecalculatePosition:p,onUpdateMonthYear:q[11]||(q[11]=se=>y.$emit("update-month-year",se)),onAutoApplyInvalid:q[12]||(q[12]=se=>y.$emit("auto-apply-invalid",se)),onInvalidDate:q[13]||(q[13]=se=>y.$emit("invalid-date",se)),onOverlayToggle:q[14]||(q[14]=se=>y.$emit("overlay-toggle",se)),"onUpdate:internalModelValue":q[15]||(q[15]=se=>y.$emit("update:internal-model-value",se))}),e.createSlots({_:2},[e.renderList(Q.value,(se,Ue)=>({name:se,fn:e.withCtx(_e=>[e.renderSlot(y.$slots,se,e.normalizeProps(e.guardReactiveProps({..._e})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),y.$slots["right-sidebar"]?(e.openBlock(),e.createElementBlock("div",br,[e.renderSlot(y.$slots,"right-sidebar",e.normalizeProps(e.guardReactiveProps(P.value)))])):e.createCommentVNode("",!0),y.$slots["action-extra"]?(e.openBlock(),e.createElementBlock("div",wr,[y.$slots["action-extra"]?e.renderSlot(y.$slots,"action-extra",{key:0,selectCurrentDate:fe}):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)],6),!y.autoApply||e.unref(_).keepActionRow?(e.openBlock(),e.createBlock(ya,e.mergeProps({key:2,"menu-mount":M.value},f.value,{"calendar-width":C.value,onClosePicker:q[16]||(q[16]=se=>y.$emit("close-picker")),onSelectDate:q[17]||(q[17]=se=>y.$emit("select-date")),onInvalidSelect:q[18]||(q[18]=se=>y.$emit("invalid-select")),onSelectNow:fe}),e.createSlots({_:2},[e.renderList(e.unref(d),(se,Ue)=>({name:se,fn:e.withCtx(_e=>[e.renderSlot(y.$slots,se,e.normalizeProps(e.guardReactiveProps({..._e})))])}))]),1040,["menu-mount","calendar-width"])):e.createCommentVNode("",!0)],46,pr)}}});var Fe=(t=>(t.center="center",t.left="left",t.right="right",t))(Fe||{});const vr=({menuRef:t,menuRefInner:n,inputRef:l,pickerWrapperRef:r,inline:a,emit:m,props:f,slots:s})=>{const $=e.ref({}),V=e.ref(!1),b=e.ref({top:"0",left:"0"}),v=e.ref(!1),k=e.toRef(f,"teleportCenter");e.watch(k,()=>{b.value=JSON.parse(JSON.stringify({})),G()});const _=P=>{if(f.teleport){const p=P.getBoundingClientRect();return{left:p.left+window.scrollX,top:p.top+window.scrollY}}return{top:0,left:0}},K=(P,p)=>{b.value.left=`${P+p-$.value.width}px`},C=P=>{b.value.left=`${P}px`},E=(P,p)=>{f.position===Fe.left&&C(P),f.position===Fe.right&&K(P,p),f.position===Fe.center&&(b.value.left=`${P+p/2-$.value.width/2}px`)},M=P=>{const{width:p,height:d}=P.getBoundingClientRect(),{top:Q,left:re}=f.altPosition?f.altPosition(P):_(P);return{top:+Q,left:+re,width:p,height:d}},I=()=>{b.value.left="50%",b.value.top="50%",b.value.transform="translate(-50%, -50%)",b.value.position="fixed",delete b.value.opacity},Y=()=>{const P=we(l),{top:p,left:d,transform:Q}=f.altPosition(P);b.value={top:`${p}px`,left:`${d}px`,transform:Q??""}},G=(P=!0)=>{var p;if(!a.value.enabled){if(k.value)return I();if(f.altPosition!==null)return Y();if(P){const d=f.teleport?(p=n.value)==null?void 0:p.$el:t.value;d&&($.value=d.getBoundingClientRect()),m("recalculate-position")}return ee()}},z=({inputEl:P,left:p,width:d})=>{window.screen.width>768&&!V.value&&E(p,d),B(P)},Z=P=>{const{top:p,left:d,height:Q,width:re}=M(P);b.value.top=`${Q+p+ +f.offset}px`,v.value=!1,V.value||(b.value.left=`${d+re/2-$.value.width/2}px`),z({inputEl:P,left:d,width:re})},ne=P=>{const{top:p,left:d,width:Q}=M(P);b.value.top=`${p-+f.offset-$.value.height}px`,v.value=!0,z({inputEl:P,left:d,width:Q})},B=P=>{if(f.autoPosition){const{left:p,width:d}=M(P),{left:Q,right:re}=$.value;if(!V.value){if(Math.abs(Q)!==Math.abs(re)){if(Q<=0)return V.value=!0,C(p);if(re>=document.documentElement.clientWidth)return V.value=!0,K(p,d)}return E(p,d)}}},j=()=>{const P=we(l);if(P){const{height:p}=$.value,{top:d,height:Q}=P.getBoundingClientRect(),D=window.innerHeight-d-Q,S=d;return p<=D?je.bottom:p>D&&p<=S?je.top:D>=S?je.bottom:je.top}return je.bottom},X=P=>j()===je.bottom?Z(P):ne(P),ee=()=>{const P=we(l);if(P)return f.autoPosition?X(P):Z(P)},N=function(P){if(P){const p=P.scrollHeight>P.clientHeight,Q=window.getComputedStyle(P).overflowY.indexOf("hidden")!==-1;return p&&!Q}return!0},H=function(P){return!P||P===document.body||P.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:N(P)?P:H(P.assignedSlot?P.assignedSlot.parentNode:P.parentNode)},te=P=>{if(P)switch(f.position){case Fe.left:return{left:0,transform:"translateX(0)"};case Fe.right:return{left:`${P.width}px`,transform:"translateX(-100%)"};default:return{left:`${P.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:v,menuStyle:b,xCorrect:V,setMenuPosition:G,getScrollableParent:H,shadowRender:(P,p)=>{var W,u,R;const d=document.createElement("div"),Q=(W=we(l))==null?void 0:W.getBoundingClientRect();d.setAttribute("id","dp--temp-container");const re=(u=r.value)!=null&&u.clientWidth?r.value:document.body;re.append(d);const D=te(Q),S=e.h(P,{...p,shadow:!0,style:{opacity:0,position:"absolute",...D}},Object.fromEntries(Object.keys(s).filter(T=>["right-sidebar","left-sidebar","top-extra","action-extra"].includes(T)).map(T=>[T,s[T]])));e.render(S,d),$.value=(R=S.el)==null?void 0:R.getBoundingClientRect(),e.render(null,d),re.removeChild(d)}}},He=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"hours-overlay-header",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-header",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-header",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]},{name:"top-extra",use:["shared","month-year"]}],Mr=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],Dr={all:()=>He,monthYear:()=>He.filter(t=>t.use.includes("month-year")),input:()=>Mr,timePicker:()=>He.filter(t=>t.use.includes("time")),action:()=>He.filter(t=>t.use.includes("action")),calendar:()=>He.filter(t=>t.use.includes("calendar")),menu:()=>He.filter(t=>t.use.includes("menu")),shared:()=>He.filter(t=>t.use.includes("shared")),yearMode:()=>He.filter(t=>t.use.includes("year-mode"))},$e=(t,n,l)=>{const r=[];return Dr[n]().forEach(a=>{t[a.name]&&r.push(a.name)}),l!=null&&l.length&&l.forEach(a=>{a.slot&&r.push(a.slot)}),r},rt=t=>{const n=e.computed(()=>r=>t.value?r?t.value.open:t.value.close:""),l=e.computed(()=>r=>t.value?r?t.value.menuAppearTop:t.value.menuAppearBottom:"");return{transitionName:n,showTransition:!!t.value,menuTransition:l}},lt=(t,n)=>{const{defaultedRange:l,defaultedTz:r}=ge(t),a=x(Ee(x(),r.value.timezone)),m=e.ref([{month:o.getMonth(a),year:o.getYear(a)}]),f=v=>{const k={hours:o.getHours(a),minutes:o.getMinutes(a),seconds:0};return l.value.enabled?[k[v],k[v]]:k[v]},s=e.reactive({hours:f("hours"),minutes:f("minutes"),seconds:f("seconds")});e.watch(l,(v,k)=>{v.enabled!==k.enabled&&(s.hours=f("hours"),s.minutes=f("minutes"),s.seconds=f("seconds"))},{deep:!0});const $=e.computed({get:()=>t.internalModelValue,set:v=>{!t.readonly&&!t.disabled&&n("update:internal-model-value",v)}}),V=e.computed(()=>v=>m.value[v]?m.value[v].month:0),b=e.computed(()=>v=>m.value[v]?m.value[v].year:0);return{calendars:m,time:s,modelValue:$,month:V,year:b,today:a}},Sr=(t,n)=>{const{defaultedMultiCalendars:l,defaultedMultiDates:r,defaultedHighlight:a,defaultedTz:m,propDates:f,defaultedRange:s}=ge(n),{isDisabled:$}=We(n),V=e.ref(null),b=e.ref(Ee(new Date,m.value.timezone)),v=u=>{!u.current&&n.hideOffsetDates||(V.value=u.value)},k=()=>{V.value=null},_=u=>Array.isArray(t.value)&&s.value.enabled&&t.value[0]&&V.value?u?ye(V.value,t.value[0]):he(V.value,t.value[0]):!0,K=(u,R)=>{const T=()=>t.value?R?t.value[0]||null:t.value[1]:null,oe=t.value&&Array.isArray(t.value)?T():null;return ue(x(u.value),oe)},C=u=>{const R=Array.isArray(t.value)?t.value[0]:null;return u?!he(V.value??null,R):!0},E=(u,R=!0)=>(s.value.enabled||n.weekPicker)&&Array.isArray(t.value)&&t.value.length===2?n.hideOffsetDates&&!u.current?!1:ue(x(u.value),t.value[R?0:1]):s.value.enabled?K(u,R)&&C(R)||ue(u.value,Array.isArray(t.value)?t.value[0]:null)&&_(R):!1,M=(u,R)=>{if(Array.isArray(t.value)&&t.value[0]&&t.value.length===1){const T=ue(u.value,V.value);return R?ye(t.value[0],u.value)&&T:he(t.value[0],u.value)&&T}return!1},I=u=>!t.value||n.hideOffsetDates&&!u.current?!1:s.value.enabled?n.modelAuto&&Array.isArray(t.value)?ue(u.value,t.value[0]?t.value[0]:b.value):!1:r.value.enabled&&Array.isArray(t.value)?t.value.some(R=>ue(R,u.value)):ue(u.value,t.value?t.value:b.value),Y=u=>{if(s.value.autoRange||n.weekPicker){if(V.value){if(n.hideOffsetDates&&!u.current)return!1;const R=o.addDays(V.value,+s.value.autoRange),T=Ve(x(V.value),n.weekStart);return n.weekPicker?ue(T[1],x(u.value)):ue(R,x(u.value))}return!1}return!1},G=u=>{if(s.value.autoRange||n.weekPicker){if(V.value){const R=o.addDays(V.value,+s.value.autoRange);if(n.hideOffsetDates&&!u.current)return!1;const T=Ve(x(V.value),n.weekStart);return n.weekPicker?ye(u.value,T[0])&&he(u.value,T[1]):ye(u.value,V.value)&&he(u.value,R)}return!1}return!1},z=u=>{if(s.value.autoRange||n.weekPicker){if(V.value){if(n.hideOffsetDates&&!u.current)return!1;const R=Ve(x(V.value),n.weekStart);return n.weekPicker?ue(R[0],u.value):ue(V.value,u.value)}return!1}return!1},Z=u=>ct(t.value,V.value,u.value),ne=()=>n.modelAuto&&Array.isArray(n.internalModelValue)?!!n.internalModelValue[0]:!1,B=()=>n.modelAuto?rn(n.internalModelValue):!0,j=u=>{if(n.weekPicker)return!1;const R=s.value.enabled?!E(u)&&!E(u,!1):!0;return!$(u.value)&&!I(u)&&!(!u.current&&n.hideOffsetDates)&&R},X=u=>s.value.enabled?n.modelAuto?ne()&&I(u):!1:I(u),ee=u=>a.value?Un(u.value,f.value.highlight):!1,N=u=>{const R=$(u.value);return R&&(typeof a.value=="function"?!a.value(u.value,R):!a.value.options.highlightDisabled)},H=u=>{var R;return typeof a.value=="function"?a.value(u.value):(R=a.value.weekdays)==null?void 0:R.includes(u.value.getDay())},te=u=>(s.value.enabled||n.weekPicker)&&(!(l.value.count>0)||u.current)&&B()&&!(!u.current&&n.hideOffsetDates)&&!I(u)?Z(u):!1,L=u=>{const{isRangeStart:R,isRangeEnd:T}=Q(u),oe=s.value.enabled?R||T:!1;return{dp__cell_offset:!u.current,dp__pointer:!n.disabled&&!(!u.current&&n.hideOffsetDates)&&!$(u.value),dp__cell_disabled:$(u.value),dp__cell_highlight:!N(u)&&(ee(u)||H(u))&&!X(u)&&!oe&&!z(u)&&!(te(u)&&n.weekPicker)&&!T,dp__cell_highlight_active:!N(u)&&(ee(u)||H(u))&&X(u),dp__today:!n.noToday&&ue(u.value,b.value)&&u.current,"dp--past":he(u.value,b.value),"dp--future":ye(u.value,b.value)}},P=u=>({dp__active_date:X(u),dp__date_hover:j(u)}),p=u=>{if(t.value&&!Array.isArray(t.value)){const R=Ve(t.value,n.weekStart);return{...D(u),dp__range_start:ue(R[0],u.value),dp__range_end:ue(R[1],u.value),dp__range_between_week:ye(u.value,R[0])&&he(u.value,R[1])}}return{...D(u)}},d=u=>{if(t.value&&Array.isArray(t.value)){const R=Ve(t.value[0],n.weekStart),T=t.value[1]?Ve(t.value[1],n.weekStart):[];return{...D(u),dp__range_start:ue(R[0],u.value)||ue(T[0],u.value),dp__range_end:ue(R[1],u.value)||ue(T[1],u.value),dp__range_between_week:ye(u.value,R[0])&&he(u.value,R[1])||ye(u.value,T[0])&&he(u.value,T[1]),dp__range_between:ye(u.value,R[1])&&he(u.value,T[0])}}return{...D(u)}},Q=u=>{const R=l.value.count>0?u.current&&E(u)&&B():E(u)&&B(),T=l.value.count>0?u.current&&E(u,!1)&&B():E(u,!1)&&B();return{isRangeStart:R,isRangeEnd:T}},re=u=>{const{isRangeStart:R,isRangeEnd:T}=Q(u);return{dp__range_start:R,dp__range_end:T,dp__range_between:te(u),dp__date_hover:ue(u.value,V.value)&&!R&&!T&&!n.weekPicker,dp__date_hover_start:M(u,!0),dp__date_hover_end:M(u,!1)}},D=u=>({...re(u),dp__cell_auto_range:G(u),dp__cell_auto_range_start:z(u),dp__cell_auto_range_end:Y(u)}),S=u=>s.value.enabled?s.value.autoRange?D(u):n.modelAuto?{...P(u),...re(u)}:n.weekPicker?d(u):re(u):n.weekPicker?p(u):P(u);return{setHoverDate:v,clearHoverDate:k,getDayClassData:u=>n.hideOffsetDates&&!u.current?{}:{...L(u),...S(u),[n.dayClass?n.dayClass(u.value,n.internalModelValue):""]:!0,[n.calendarCellClassName]:!!n.calendarCellClassName}}},We=t=>{const{defaultedFilters:n,defaultedRange:l,propDates:r,defaultedMultiDates:a}=ge(t),m=N=>r.value.disabledDates?typeof r.value.disabledDates=="function"?r.value.disabledDates(x(N)):!!ut(N,r.value.disabledDates):!1,f=N=>{const H=r.value.maxDate?ye(N,r.value.maxDate):!1,te=r.value.minDate?he(N,r.value.minDate):!1,L=m(N),p=n.value.months.map(S=>+S).includes(o.getMonth(N)),d=t.disabledWeekDays.length?t.disabledWeekDays.some(S=>+S===o.getDay(N)):!1,Q=v(N),re=o.getYear(N),D=re<+t.yearRange[0]||re>+t.yearRange[1];return!(H||te||L||p||D||d||Q)},s=(N,H)=>he(...ze(r.value.minDate,N,H))||ue(...ze(r.value.minDate,N,H)),$=(N,H)=>ye(...ze(r.value.maxDate,N,H))||ue(...ze(r.value.maxDate,N,H)),V=(N,H,te)=>{let L=!1;return r.value.maxDate&&te&&$(N,H)&&(L=!0),r.value.minDate&&!te&&s(N,H)&&(L=!0),L},b=(N,H,te,L)=>{let P=!1;return L?r.value.minDate&&r.value.maxDate?P=V(N,H,te):(r.value.minDate&&s(N,H)||r.value.maxDate&&$(N,H))&&(P=!0):P=!0,P},v=N=>Array.isArray(r.value.allowedDates)&&!r.value.allowedDates.length?!0:r.value.allowedDates?!ut(N,r.value.allowedDates):!1,k=N=>!f(N),_=N=>l.value.noDisabledRange?!o.eachDayOfInterval({start:N[0],end:N[1]}).some(te=>k(te)):!0,K=N=>{if(N){const H=o.getYear(N);return H>=+t.yearRange[0]&&H<=t.yearRange[1]}return!0},C=(N,H)=>!!(Array.isArray(N)&&N[H]&&(l.value.maxRange||l.value.minRange)&&K(N[H])),E=(N,H,te=0)=>{if(C(H,te)&&K(N)){const L=o.differenceInCalendarDays(N,H[te]),P=mn(H[te],N),p=P.length===1?0:P.filter(Q=>k(Q)).length,d=Math.abs(L)-(l.value.minMaxRawRange?0:p);if(l.value.minRange&&l.value.maxRange)return d>=+l.value.minRange&&d<=+l.value.maxRange;if(l.value.minRange)return d>=+l.value.minRange;if(l.value.maxRange)return d<=+l.value.maxRange}return!0},M=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,I=N=>Array.isArray(N)?[N[0]?Vt(N[0]):null,N[1]?Vt(N[1]):null]:Vt(N),Y=(N,H,te)=>N.find(L=>+L.hours===o.getHours(H)&&L.minutes==="*"?!0:+L.minutes===o.getMinutes(H)&&+L.hours===o.getHours(H))&&te,G=(N,H,te)=>{const[L,P]=N,[p,d]=H;return!Y(L,p,te)&&!Y(P,d,te)&&te},z=(N,H)=>{const te=Array.isArray(H)?H:[H];return Array.isArray(t.disabledTimes)?Array.isArray(t.disabledTimes[0])?G(t.disabledTimes,te,N):!te.some(L=>Y(t.disabledTimes,L,N)):N},Z=(N,H)=>{const te=Array.isArray(H)?[Ke(H[0]),H[1]?Ke(H[1]):void 0]:Ke(H),L=!t.disabledTimes(te);return N&&L},ne=(N,H)=>t.disabledTimes?Array.isArray(t.disabledTimes)?z(H,N):Z(H,N):H,B=N=>{let H=!0;if(!N||M())return!0;const te=!r.value.minDate&&!r.value.maxDate?I(N):N;return(t.maxTime||r.value.maxDate)&&(H=yn(t.maxTime,r.value.maxDate,"max",be(te),H)),(t.minTime||r.value.minDate)&&(H=yn(t.minTime,r.value.minDate,"min",be(te),H)),ne(N,H)},j=N=>{if(!t.monthPicker)return!0;let H=!0;const te=x(Re(N));if(r.value.minDate&&r.value.maxDate){const L=x(Re(r.value.minDate)),P=x(Re(r.value.maxDate));return ye(te,L)&&he(te,P)||ue(te,L)||ue(te,P)}if(r.value.minDate){const L=x(Re(r.value.minDate));H=ye(te,L)||ue(te,L)}if(r.value.maxDate){const L=x(Re(r.value.maxDate));H=he(te,L)||ue(te,L)}return H},X=e.computed(()=>N=>!t.enableTimePicker||t.ignoreTimeValidation?!0:B(N)),ee=e.computed(()=>N=>t.monthPicker?Array.isArray(N)&&(l.value.enabled||a.value.enabled)?!N.filter(te=>!j(te)).length:j(N):!0);return{isDisabled:k,validateDate:f,validateMonthYearInRange:b,isDateRangeAllowed:_,checkMinMaxRange:E,isValidTime:B,isTimeValid:X,isMonthValid:ee}},ht=()=>{const t=e.computed(()=>(r,a)=>r==null?void 0:r.includes(a)),n=e.computed(()=>(r,a)=>r.count?r.solo?!0:a===0:!0),l=e.computed(()=>(r,a)=>r.count?r.solo?!0:a===r.count-1:!0);return{hideNavigationButtons:t,showLeftIcon:n,showRightIcon:l}},Cr=(t,n,l)=>{const r=e.ref(0),a=e.reactive({[xe.timePicker]:!t.enableTimePicker||t.timePicker||t.monthPicker,[xe.calendar]:!1,[xe.header]:!1}),m=e.computed(()=>t.monthPicker||t.timePicker),f=v=>{var k;if((k=t.flow)!=null&&k.length){if(!v&&m.value)return b();a[v]=!0,Object.keys(a).filter(_=>!a[_]).length||b()}},s=()=>{var v,k;(v=t.flow)!=null&&v.length&&r.value!==-1&&(r.value+=1,n("flow-step",r.value),b()),((k=t.flow)==null?void 0:k.length)===r.value&&e.nextTick().then(()=>$())},$=()=>{r.value=-1},V=(v,k,..._)=>{var K,C;t.flow[r.value]===v&&l.value&&((C=(K=l.value)[k])==null||C.call(K,..._))},b=(v=0)=>{v&&(r.value+=v),V(Me.month,"toggleMonthPicker",!0),V(Me.year,"toggleYearPicker",!0),V(Me.calendar,"toggleTimePicker",!1,!0),V(Me.time,"toggleTimePicker",!0,!0);const k=t.flow[r.value];(k===Me.hours||k===Me.minutes||k===Me.seconds)&&V(k,"toggleTimePicker",!0,!0,k)};return{childMount:f,updateFlowStep:s,resetFlow:$,handleFlow:b,flowStep:r}},Br={key:1,class:"dp__input_wrap"},Tr=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],$r={key:2,class:"dp__clear_icon"},Ar=e.defineComponent({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...mt},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(t,{expose:n,emit:l}){const r=l,a=t,{defaultedTextInput:m,defaultedAriaLabels:f,defaultedInline:s,defaultedConfig:$,defaultedRange:V,defaultedMultiDates:b,getDefaultPattern:v,getDefaultStartTime:k}=ge(a),{checkMinMaxRange:_}=We(a),K=e.ref(),C=e.ref(null),E=e.ref(!1),M=e.ref(!1),I=e.computed(()=>({dp__pointer:!a.disabled&&!a.readonly&&!m.value.enabled,dp__disabled:a.disabled,dp__input_readonly:!m.value.enabled,dp__input:!0,dp__input_icon_pad:!a.hideInputIcon,dp__input_valid:!!a.state,dp__input_invalid:a.state===!1,dp__input_focus:E.value||a.isMenuOpen,dp__input_reg:!m.value.enabled,[a.inputClassName]:!!a.inputClassName})),Y=()=>{r("set-input-date",null),a.clearable&&a.autoApply&&(r("set-empty-date"),K.value=null)},G=d=>{const Q=k();return jn(d,m.value.format??v(),Q??pn({},a.enableSeconds),a.inputValue,M.value,a.formatLocale)},z=d=>{const{rangeSeparator:Q}=m.value,[re,D]=d.split(`${Q}`);if(re){const S=G(re.trim()),W=D?G(D.trim()):null;if(o.isAfter(S,W))return;const u=S&&W?[S,W]:[S];_(W,u,0)&&(K.value=S?u:null)}},Z=()=>{M.value=!0},ne=d=>{if(V.value.enabled)z(d);else if(b.value.enabled){const Q=d.split(";");K.value=Q.map(re=>G(re.trim())).filter(re=>re)}else K.value=G(d)},B=d=>{var re;const Q=typeof d=="string"?d:(re=d.target)==null?void 0:re.value;Q!==""?(m.value.openMenu&&!a.isMenuOpen&&r("open"),ne(Q),r("set-input-date",K.value)):Y(),M.value=!1,r("update:input-value",Q)},j=d=>{m.value.enabled?(ne(d.target.value),m.value.enterSubmit&&Nt(K.value)&&a.inputValue!==""?(r("set-input-date",K.value,!0),K.value=null):m.value.enterSubmit&&a.inputValue===""&&(K.value=null,r("clear"))):N(d)},X=d=>{m.value.enabled&&m.value.tabSubmit&&ne(d.target.value),m.value.tabSubmit&&Nt(K.value)&&a.inputValue!==""?(r("set-input-date",K.value,!0,!0),K.value=null):m.value.tabSubmit&&a.inputValue===""&&(K.value=null,r("clear",!0))},ee=()=>{E.value=!0,r("focus"),e.nextTick().then(()=>{var d;m.value.enabled&&m.value.selectOnFocus&&((d=C.value)==null||d.select())})},N=d=>{d.preventDefault(),Oe(d,$.value,!0),m.value.enabled&&m.value.openMenu&&!s.value.input&&!a.isMenuOpen?r("open"):m.value.enabled||r("toggle")},H=()=>{r("real-blur"),E.value=!1,(!a.isMenuOpen||s.value.enabled&&s.value.input)&&r("blur"),a.autoApply&&m.value.enabled&&K.value&&!a.isMenuOpen&&(r("set-input-date",K.value),r("select-date"),K.value=null)},te=d=>{Oe(d,$.value,!0),r("clear")},L=d=>{if(d.key==="Tab"&&X(d),d.key==="Enter"&&j(d),!m.value.enabled){if(d.code==="Tab")return;d.preventDefault()}};return n({focusInput:()=>{var d;(d=C.value)==null||d.focus({preventScroll:!0})},setParsedDate:d=>{K.value=d}}),(d,Q)=>{var re;return e.openBlock(),e.createElementBlock("div",{onClick:N},[d.$slots.trigger&&!d.$slots["dp-input"]&&!e.unref(s).enabled?e.renderSlot(d.$slots,"trigger",{key:0}):e.createCommentVNode("",!0),!d.$slots.trigger&&(!e.unref(s).enabled||e.unref(s).input)?(e.openBlock(),e.createElementBlock("div",Br,[d.$slots["dp-input"]&&!d.$slots.trigger&&(!e.unref(s).enabled||e.unref(s).enabled&&e.unref(s).input)?e.renderSlot(d.$slots,"dp-input",{key:0,value:t.inputValue,isMenuOpen:t.isMenuOpen,onInput:B,onEnter:j,onTab:X,onClear:te,onBlur:H,onKeypress:L,onPaste:Z,onFocus:ee,openMenu:()=>d.$emit("open"),closeMenu:()=>d.$emit("close"),toggleMenu:()=>d.$emit("toggle")}):e.createCommentVNode("",!0),d.$slots["dp-input"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("input",{key:1,id:d.uid?`dp-input-${d.uid}`:void 0,ref_key:"inputRef",ref:C,"data-test":"dp-input",name:d.name,class:e.normalizeClass(I.value),inputmode:e.unref(m).enabled?"text":"none",placeholder:d.placeholder,disabled:d.disabled,readonly:d.readonly,required:d.required,value:t.inputValue,autocomplete:d.autocomplete,"aria-label":(re=e.unref(f))==null?void 0:re.input,"aria-disabled":d.disabled||void 0,"aria-invalid":d.state===!1?!0:void 0,onInput:B,onBlur:H,onFocus:ee,onKeypress:L,onKeydown:L,onPaste:Z},null,42,Tr)),e.createElementVNode("div",{onClick:Q[2]||(Q[2]=D=>r("toggle"))},[d.$slots["input-icon"]&&!d.hideInputIcon?(e.openBlock(),e.createElementBlock("span",{key:0,class:"dp__input_icon",onClick:Q[0]||(Q[0]=D=>r("toggle"))},[e.renderSlot(d.$slots,"input-icon")])):e.createCommentVNode("",!0),!d.$slots["input-icon"]&&!d.hideInputIcon&&!d.$slots["dp-input"]?(e.openBlock(),e.createBlock(e.unref(Qe),{key:1,class:"dp__input_icon dp__input_icons",onClick:Q[1]||(Q[1]=D=>r("toggle"))})):e.createCommentVNode("",!0)]),d.$slots["clear-icon"]&&t.inputValue&&d.clearable&&!d.disabled&&!d.readonly?(e.openBlock(),e.createElementBlock("span",$r,[e.renderSlot(d.$slots,"clear-icon",{clear:te})])):e.createCommentVNode("",!0),d.clearable&&!d.$slots["clear-icon"]&&t.inputValue&&!d.disabled&&!d.readonly?(e.openBlock(),e.createBlock(e.unref(tn),{key:3,class:"dp__clear_icon dp__input_icons","data-test":"clear-icon",onClick:Q[3]||(Q[3]=e.withModifiers(D=>te(D),["prevent"]))})):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)])}}}),Pr=typeof window<"u"?window:void 0,jt=()=>{},Rr=t=>e.getCurrentScope()?(e.onScopeDispose(t),!0):!1,Nr=(t,n,l,r)=>{if(!t)return jt;let a=jt;const m=e.watch(()=>e.unref(t),s=>{a(),s&&(s.addEventListener(n,l,r),a=()=>{s.removeEventListener(n,l,r),a=jt})},{immediate:!0,flush:"post"}),f=()=>{m(),a()};return Rr(f),f},Er=(t,n,l,r={})=>{const{window:a=Pr,event:m="pointerdown"}=r;return a?Nr(a,m,s=>{const $=we(t),V=we(n);!$||!V||$===s.target||s.composedPath().includes($)||s.composedPath().includes(V)||l(s)},{passive:!0}):void 0},_r=e.defineComponent({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...mt},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date","overlay-toggle"],setup(t,{expose:n,emit:l}){const r=l,a=t,m=e.useSlots(),f=e.ref(!1),s=e.toRef(a,"modelValue"),$=e.toRef(a,"timezone"),V=e.ref(null),b=e.ref(null),v=e.ref(null),k=e.ref(!1),_=e.ref(null),K=e.ref(!1),C=e.ref(!1),E=e.ref(!1),{setMenuFocused:M,setShiftKey:I}=wn(),{clearArrowNav:Y}=Le(),{validateDate:G,isValidTime:z}=We(a),{defaultedTransitions:Z,defaultedTextInput:ne,defaultedInline:B,defaultedConfig:j,defaultedRange:X,defaultedMultiDates:ee}=ge(a),{menuTransition:N,showTransition:H}=rt(Z);e.onMounted(()=>{u(a.modelValue),e.nextTick().then(()=>{if(!B.value.enabled){const g=re(_.value);g==null||g.addEventListener("scroll",J),window==null||window.addEventListener("resize",A)}}),B.value.enabled&&(f.value=!0),window==null||window.addEventListener("keyup",ae),window==null||window.addEventListener("keydown",y)}),e.onUnmounted(()=>{if(!B.value.enabled){const g=re(_.value);g==null||g.removeEventListener("scroll",J),window==null||window.removeEventListener("resize",A)}window==null||window.removeEventListener("keyup",ae),window==null||window.removeEventListener("keydown",y)});const te=$e(m,"all",a.presetDates),L=$e(m,"input");e.watch([s,$],()=>{u(s.value)},{deep:!0});const{openOnTop:P,menuStyle:p,xCorrect:d,setMenuPosition:Q,getScrollableParent:re,shadowRender:D}=vr({menuRef:V,menuRefInner:b,inputRef:v,pickerWrapperRef:_,inline:B,emit:r,props:a,slots:m}),{inputValue:S,internalModelValue:W,parseExternalModelValue:u,emitModelValue:R,formatInputValue:T,checkBeforeEmit:oe}=ma(r,a,k),c=e.computed(()=>({dp__main:!0,dp__theme_dark:a.dark,dp__theme_light:!a.dark,dp__flex_display:B.value.enabled,"dp--flex-display-collapsed":E.value,dp__flex_display_with_input:B.value.input})),w=e.computed(()=>a.dark?"dp__theme_dark":"dp__theme_light"),le=e.computed(()=>a.teleport?{to:typeof a.teleport=="boolean"?"body":a.teleport,disabled:!a.teleport||B.value.enabled}:{}),fe=e.computed(()=>({class:"dp__outer_menu_wrap"})),i=e.computed(()=>B.value.enabled&&(a.timePicker||a.monthPicker||a.yearPicker||a.quarterPicker)),O=()=>{var g,U;return(U=(g=v.value)==null?void 0:g.$el)==null?void 0:U.getBoundingClientRect()},J=()=>{f.value&&(j.value.closeOnScroll?Ae():Q())},A=()=>{var U;f.value&&Q();const g=(U=b.value)==null?void 0:U.$el.getBoundingClientRect().width;E.value=document.body.offsetWidth<=g},ae=g=>{g.key==="Tab"&&!B.value.enabled&&!a.teleport&&j.value.tabOutClosesMenu&&(_.value.contains(document.activeElement)||Ae()),C.value=g.shiftKey},y=g=>{C.value=g.shiftKey},q=()=>{!a.disabled&&!a.readonly&&(D(Pn,a),Q(!1),f.value=!0,f.value&&r("open"),f.value||ot(),u(a.modelValue))},ce=()=>{var g;S.value="",ot(),(g=v.value)==null||g.setParsedDate(null),r("update:model-value",null),r("update:model-timezone-value",null),r("cleared"),j.value.closeOnClearValue&&Ae()},ie=()=>{const g=W.value;return!g||!Array.isArray(g)&&G(g)?!0:Array.isArray(g)?ee.value.enabled||g.length===2&&G(g[0])&&G(g[1])?!0:X.value.partialRange&&!a.timePicker?G(g[0]):!1:!1},Te=()=>{oe()&&ie()?(R(),Ae()):r("invalid-select",W.value)},se=g=>{Ue(),R(),j.value.closeOnAutoApply&&!g&&Ae()},Ue=()=>{v.value&&ne.value.enabled&&v.value.setParsedDate(W.value)},_e=(g=!1)=>{a.autoApply&&z(W.value)&&ie()&&(X.value.enabled&&Array.isArray(W.value)?(X.value.partialRange||W.value.length===2)&&se(g):se(g))},ot=()=>{ne.value.enabled||(W.value=null)},Ae=()=>{B.value.enabled||(f.value&&(f.value=!1,d.value=!1,M(!1),I(!1),Y(),r("closed"),S.value&&u(s.value)),ot(),r("blur"))},st=(g,U,F=!1)=>{if(!g){W.value=null;return}const de=Array.isArray(g)?!g.some(qe=>!G(qe)):G(g),ve=z(g);de&&ve&&(W.value=g,U&&(K.value=F,Te(),r("text-submit")))},Kt=()=>{a.autoApply&&z(W.value)&&R(),Ue()},yt=()=>f.value?Ae():q(),qt=g=>{W.value=g},Gt=()=>{ne.value.enabled&&(k.value=!0,T()),r("focus")},Qt=()=>{if(ne.value.enabled&&(k.value=!1,u(a.modelValue),K.value)){const g=Hn(_.value,C.value);g==null||g.focus()}r("blur")},Xt=g=>{b.value&&b.value.updateMonthYear(0,{month:ln(g.month),year:ln(g.year)})},Jt=g=>{u(g??a.modelValue)},Zt=(g,U)=>{var F;(F=b.value)==null||F.switchView(g,U)},Rn=g=>j.value.onClickOutside?j.value.onClickOutside(g):Ae(),h=(g=0)=>{var U;(U=b.value)==null||U.handleFlow(g)};return Er(V,v,()=>Rn(ie)),n({closeMenu:Ae,selectDate:Te,clearValue:ce,openMenu:q,onScroll:J,formatInputValue:T,updateInternalModelValue:qt,setMonthYear:Xt,parseModel:Jt,switchView:Zt,toggleMenu:yt,handleFlow:h}),(g,U)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"pickerWrapperRef",ref:_,class:e.normalizeClass(c.value),"data-datepicker-instance":""},[e.createVNode(Ar,e.mergeProps({ref_key:"inputRef",ref:v,"input-value":e.unref(S),"onUpdate:inputValue":U[0]||(U[0]=F=>e.isRef(S)?S.value=F:null),"is-menu-open":f.value},g.$props,{onClear:ce,onOpen:q,onSetInputDate:st,onSetEmptyDate:e.unref(R),onSelectDate:Te,onToggle:yt,onClose:Ae,onFocus:Gt,onBlur:Qt,onRealBlur:U[1]||(U[1]=F=>k.value=!1)}),e.createSlots({_:2},[e.renderList(e.unref(L),(F,de)=>({name:F,fn:e.withCtx(ve=>[e.renderSlot(g.$slots,F,e.normalizeProps(e.guardReactiveProps(ve)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),(e.openBlock(),e.createBlock(e.resolveDynamicComponent(g.teleport?e.Teleport:"div"),e.normalizeProps(e.guardReactiveProps(le.value)),{default:e.withCtx(()=>[e.createVNode(e.Transition,{name:e.unref(N)(e.unref(P)),css:e.unref(H)&&!e.unref(B).enabled},{default:e.withCtx(()=>[f.value?(e.openBlock(),e.createElementBlock("div",e.mergeProps({key:0,ref_key:"dpWrapMenuRef",ref:V},fe.value,{class:{"dp--menu-wrapper":!e.unref(B).enabled},style:e.unref(B).enabled?void 0:e.unref(p)}),[e.createVNode(Pn,e.mergeProps({ref_key:"dpMenuRef",ref:b},g.$props,{"internal-model-value":e.unref(W),"onUpdate:internalModelValue":U[2]||(U[2]=F=>e.isRef(W)?W.value=F:null),class:{[w.value]:!0,"dp--menu-wrapper":g.teleport},"open-on-top":e.unref(P),"no-overlay-focus":i.value,collapse:E.value,"get-input-rect":O,onClosePicker:Ae,onSelectDate:Te,onAutoApply:_e,onTimeUpdate:Kt,onFlowStep:U[3]||(U[3]=F=>g.$emit("flow-step",F)),onUpdateMonthYear:U[4]||(U[4]=F=>g.$emit("update-month-year",F)),onInvalidSelect:U[5]||(U[5]=F=>g.$emit("invalid-select",e.unref(W))),onAutoApplyInvalid:U[6]||(U[6]=F=>g.$emit("invalid-select",F)),onInvalidFixedRange:U[7]||(U[7]=F=>g.$emit("invalid-fixed-range",F)),onRecalculatePosition:e.unref(Q),onTooltipOpen:U[8]||(U[8]=F=>g.$emit("tooltip-open",F)),onTooltipClose:U[9]||(U[9]=F=>g.$emit("tooltip-close",F)),onTimePickerOpen:U[10]||(U[10]=F=>g.$emit("time-picker-open",F)),onTimePickerClose:U[11]||(U[11]=F=>g.$emit("time-picker-close",F)),onAmPmChange:U[12]||(U[12]=F=>g.$emit("am-pm-change",F)),onRangeStart:U[13]||(U[13]=F=>g.$emit("range-start",F)),onRangeEnd:U[14]||(U[14]=F=>g.$emit("range-end",F)),onDateUpdate:U[15]||(U[15]=F=>g.$emit("date-update",F)),onInvalidDate:U[16]||(U[16]=F=>g.$emit("invalid-date",F)),onOverlayToggle:U[17]||(U[17]=F=>g.$emit("overlay-toggle",F))}),e.createSlots({_:2},[e.renderList(e.unref(te),(F,de)=>({name:F,fn:e.withCtx(ve=>[e.renderSlot(g.$slots,F,e.normalizeProps(e.guardReactiveProps({...ve})))])}))]),1040,["internal-model-value","class","open-on-top","no-overlay-focus","collapse","onRecalculatePosition"])],16)):e.createCommentVNode("",!0)]),_:3},8,["name","css"])]),_:3},16))],2))}}),xt=(()=>{const t=_r;return t.install=n=>{n.component("Vue3DatePicker",t)},t})();return Object.entries(Object.freeze(Object.defineProperty({__proto__:null,default:xt},Symbol.toStringTag,{value:"Module"}))).forEach(([t,n])=>{t!=="default"&&(xt[t]=n)}),xt});
